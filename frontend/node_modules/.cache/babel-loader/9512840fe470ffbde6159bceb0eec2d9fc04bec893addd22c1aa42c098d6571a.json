{"ast":null,"code":"var _jsxFileName = \"B:\\\\PortAuthProject\\\\TimeTracker_SLPA\\\\frontend\\\\src\\\\components\\\\dashboard\\\\UserManagement.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport usePermission from '../../hooks/usePermission';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserManagement = () => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [formData, setFormData] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    employeeId: '',\n    role: 'employee',\n    password: '',\n    confirmPassword: '',\n    division: '',\n    section: ''\n  });\n  const [divisions, setDivisions] = useState([]);\n  const [sections, setSections] = useState([]);\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\n  const [newRoleName, setNewRoleName] = useState('');\n  const {\n    user\n  } = useContext(AuthContext);\n  const isSuperAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'super_admin';\n  const canViewUsers = usePermission('users', 'read');\n  const canCreateUser = usePermission('users', 'create');\n  const canUpdateUser = usePermission('users', 'update');\n  const canDeleteUser = usePermission('users', 'delete');\n\n  // Helper function to get division name by ID\n  const getDivisionName = divisionId => {\n    const division = divisions.find(div => (div._id || div.id) === divisionId);\n    return division ? division.name : 'N/A';\n  };\n\n  // Helper function to get section name by ID\n  const getSectionName = sectionId => {\n    const section = sections.find(sec => (sec._id || sec.id) === sectionId);\n    return section ? section.name : 'N/A';\n  };\n  useEffect(() => {\n    // Fetch users and divisions from API\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n\n        // Fetch users from database\n        try {\n          const usersResponse = await fetch('http://localhost:5000/api/users', {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          if (usersResponse.ok) {\n            const usersData = await usersResponse.json();\n            // Map the data to match frontend structure\n            const mappedUsers = usersData.data.map(user => {\n              var _user$division, _user$section, _user$division2, _user$section2;\n              return {\n                id: user._id,\n                firstName: user.firstName,\n                lastName: user.lastName,\n                email: user.email,\n                role: user.role,\n                employeeId: user.employeeId,\n                status: user.isActive ? 'active' : 'inactive',\n                division: ((_user$division = user.division) === null || _user$division === void 0 ? void 0 : _user$division._id) || user.division,\n                section: ((_user$section = user.section) === null || _user$section === void 0 ? void 0 : _user$section._id) || user.section,\n                divisionName: (_user$division2 = user.division) === null || _user$division2 === void 0 ? void 0 : _user$division2.name,\n                sectionName: (_user$section2 = user.section) === null || _user$section2 === void 0 ? void 0 : _user$section2.name\n              };\n            });\n            setUsers(mappedUsers);\n          } else {\n            console.error('Failed to fetch users');\n            setUsers([]);\n          }\n        } catch (userError) {\n          console.error('Error fetching users:', userError);\n          setUsers([]);\n        }\n\n        // Fetch divisions from database\n        try {\n          const divisionsResponse = await fetch('http://localhost:5000/api/divisions', {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          if (divisionsResponse.ok) {\n            const divisionsData = await divisionsResponse.json();\n            setDivisions(divisionsData.data || []);\n          } else {\n            console.error('Failed to fetch divisions');\n            setDivisions([]);\n          }\n        } catch (divisionError) {\n          console.error('Error fetching divisions:', divisionError);\n          setDivisions([]);\n        }\n\n        // Fetch sections from database\n        try {\n          const sectionsResponse = await fetch('http://localhost:5000/api/sections', {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          });\n          if (sectionsResponse.ok) {\n            const sectionsData = await sectionsResponse.json();\n            setSections(sectionsData.data || []);\n          } else {\n            console.error('Failed to fetch sections');\n            setSections([]);\n          }\n        } catch (sectionError) {\n          console.error('Error fetching sections:', sectionError);\n          setSections([]);\n        }\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleAddUser = () => {\n    setFormData({\n      firstName: '',\n      lastName: '',\n      email: '',\n      employeeId: '',\n      role: 'employee',\n      password: '',\n      confirmPassword: '',\n      division: '',\n      section: ''\n    });\n    setEditingUser(null);\n    setShowAddModal(true);\n  };\n  const handleEditUser = user => {\n    setFormData({\n      firstName: user.firstName,\n      lastName: user.lastName,\n      email: user.email,\n      employeeId: user.employeeId,\n      role: user.role,\n      password: '',\n      confirmPassword: '',\n      division: user.division || '',\n      section: user.section || ''\n    });\n    setEditingUser(user);\n    setShowAddModal(true);\n  };\n  const handleDeleteUser = async userId => {\n    if (window.confirm('Are you sure you want to delete this user?')) {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await fetch(`http://localhost:5000/api/users/${userId}`, {\n          method: 'DELETE',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          setUsers(users.filter(user => user.id !== userId));\n          alert('User deleted successfully!');\n        } else {\n          const error = await response.json();\n          alert(error.message || 'Failed to delete user');\n        }\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Error deleting user. Please try again.');\n      }\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    // Enforce front-end permission check as a safeguard\n    if (!canCreateUser && !editingUser) {\n      alert('You do not have permission to create users.');\n      return;\n    }\n\n    // Check if passwords match when adding a new user\n    if (!editingUser && formData.password !== formData.confirmPassword) {\n      alert('Passwords do not match!');\n      return;\n    }\n\n    // Validate required fields\n    if (!formData.firstName || !formData.lastName || !formData.email || !formData.employeeId || !formData.role) {\n      alert('Please fill in all required fields!');\n      return;\n    }\n    if (!editingUser && !formData.password) {\n      alert('Password is required for new users!');\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const userData = {\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        email: formData.email,\n        employeeId: formData.employeeId,\n        role: formData.role,\n        division: formData.division || undefined,\n        section: formData.section || undefined\n      };\n      if (!editingUser) {\n        userData.password = formData.password;\n      } else if (formData.password) {\n        userData.password = formData.password;\n      }\n      let response;\n      if (editingUser) {\n        // Update existing user\n        response = await fetch(`http://localhost:5000/api/users/${editingUser.id}`, {\n          method: 'PUT',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(userData)\n        });\n      } else {\n        // Create new user\n        response = await fetch('http://localhost:5000/api/users', {\n          method: 'POST',\n          headers: {\n            'Authorization': `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(userData)\n        });\n      }\n      if (response.ok) {\n        const result = await response.json();\n        if (editingUser) {\n          // Update existing user in state\n          setUsers(users.map(user => user.id === editingUser.id ? {\n            ...user,\n            firstName: formData.firstName,\n            lastName: formData.lastName,\n            email: formData.email,\n            employeeId: formData.employeeId,\n            role: formData.role,\n            division: formData.division,\n            section: formData.section\n          } : user));\n        } else {\n          // Add new user to state\n          const newUser = {\n            id: result.data._id,\n            firstName: formData.firstName,\n            lastName: formData.lastName,\n            email: formData.email,\n            employeeId: formData.employeeId,\n            role: formData.role,\n            status: 'active',\n            division: formData.division,\n            section: formData.section\n          };\n          setUsers([...users, newUser]);\n        }\n        setShowAddModal(false);\n        setEditingUser(null);\n        alert(editingUser ? 'User updated successfully!' : 'User created successfully!');\n      } else {\n        const error = await response.json();\n        alert(error.message || 'Failed to save user');\n      }\n    } catch (error) {\n      console.error('Error saving user:', error);\n      alert('Error saving user. Please try again.');\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleAddRoleSubmit = e => {\n    e.preventDefault();\n    const roleLabel = newRoleName.trim();\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\n    if (!roleValue) return alert('Please enter a role name');\n\n    // Persist role to backend\n    (async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const res = await fetch('http://localhost:5000/api/roles', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            ...(token ? {\n              'Authorization': `Bearer ${token}`\n            } : {})\n          },\n          body: JSON.stringify({\n            value: roleValue,\n            label: roleLabel\n          })\n        });\n        if (res.ok) {\n          const result = await res.json();\n          const role = result.data;\n          // Notify frontend listeners of the created role\n          window.dispatchEvent(new CustomEvent('roleAdded', {\n            detail: {\n              value: role.value,\n              label: role.label\n            }\n          }));\n          setNewRoleName('');\n          setShowAddRoleModal(false);\n          // Navigate to roles view so user can set permissions if desired\n          window.dispatchEvent(new CustomEvent('navigateTo', {\n            detail: 'roles'\n          }));\n        } else {\n          const error = await res.json().catch(() => ({}));\n          alert(error.message || 'Failed to create role. Check server logs or authentication.');\n        }\n      } catch (err) {\n        console.error('Error creating role:', err);\n        alert('Error creating role. Check console for details.');\n      }\n    })();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this);\n  }\n  if (!canViewUsers) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-management\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-people\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), \" User Management\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"professional-card\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-data\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"You do not have permission to view users. Contact a Super Admin for access.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-people\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), \" User Management\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: '8px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-professional btn-primary\",\n          onClick: canCreateUser ? handleAddUser : undefined,\n          title: !canCreateUser ? 'You do not have permission to add users' : 'Add User',\n          disabled: !canCreateUser,\n          style: {\n            cursor: canCreateUser ? 'pointer' : 'not-allowed'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-plus-circle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 13\n          }, this), \" Add User\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"professional-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-responsive\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"professional-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Employee ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Division\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Section\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: user.employeeId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: `${user.firstName} ${user.lastName}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 420,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: user.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `role-badge role-${user.role.replace('_', '-')}`,\n                  children: user.role.replace('_', ' ').toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getDivisionName(user.division)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getSectionName(user.section)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge status-${user.status}`,\n                  children: user.status.toUpperCase()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '8px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-professional btn-primary\",\n                    onClick: canUpdateUser ? () => handleEditUser(user) : undefined,\n                    title: !canUpdateUser ? 'No permission to edit users' : 'Edit User',\n                    disabled: !canUpdateUser,\n                    style: {\n                      padding: '8px 12px',\n                      fontSize: '12px',\n                      cursor: canUpdateUser ? 'pointer' : 'not-allowed'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-pencil\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 443,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn-professional btn-danger\",\n                    onClick: canDeleteUser ? () => handleDeleteUser(user.id) : undefined,\n                    title: !canDeleteUser ? 'No permission to delete users' : 'Delete User',\n                    disabled: !canDeleteUser,\n                    style: {\n                      padding: '8px 12px',\n                      fontSize: '12px',\n                      cursor: canDeleteUser ? 'pointer' : 'not-allowed'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-trash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 19\n              }, this)]\n            }, user.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), users.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-data\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No users found. Click \\\"Add User\\\" to create the first user.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this), showAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowAddModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content professional-form\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            borderBottom: '2px solid var(--gray-200)',\n            paddingBottom: '20px',\n            marginBottom: '24px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '24px',\n              fontWeight: '700',\n              color: 'var(--gray-900)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '12px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-person-plus\",\n              style: {\n                color: 'var(--primary)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), editingUser ? 'Edit User' : 'Add New User']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close btn-professional btn-danger\",\n            onClick: () => setShowAddModal(false),\n            style: {\n              padding: '8px 12px',\n              fontSize: '16px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"First Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"firstName\",\n                className: \"form-input\",\n                value: formData.firstName,\n                onChange: handleInputChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Last Name *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"lastName\",\n                className: \"form-input\",\n                value: formData.lastName,\n                onChange: handleInputChange,\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Email *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                className: \"form-input\",\n                value: formData.email,\n                onChange: handleInputChange,\n                placeholder: \"user@slpa.lk\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Employee ID *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"employeeId\",\n                className: \"form-input\",\n                value: formData.employeeId,\n                onChange: handleInputChange,\n                placeholder: \"e.g., EMP001\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Division *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"division\",\n                className: \"form-select\",\n                value: formData.division,\n                onChange: handleInputChange,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Division\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 21\n                }, this), divisions.map(division => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: division._id || division.id,\n                  children: [division.name, \" (\", division.code, \")\"]\n                }, division._id || division.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 552,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Role *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 559,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"role\",\n                className: \"form-select\",\n                value: formData.role,\n                onChange: handleInputChange,\n                required: true,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"employee\",\n                  children: \"Employee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"administrative_clerk\",\n                  children: \"Administrative Clerk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"clerk\",\n                  children: \"Clerk\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 569,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"admin\",\n                  children: \"Administrator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 570,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"super_admin\",\n                  children: \"Super Admin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Section\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"section\",\n              className: \"form-select\",\n              value: formData.section,\n              onChange: handleInputChange,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Section\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 19\n              }, this), sections.map(section => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: section._id || section.id,\n                children: [section.name, \" (\", section.code, \")\"]\n              }, section._id || section.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 1fr',\n              gap: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [\"Password \", !editingUser && '*']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"password\",\n                className: \"form-input\",\n                value: formData.password,\n                onChange: handleInputChange,\n                placeholder: editingUser ? \"Leave blank to keep current password\" : \"Enter password\",\n                required: !editingUser,\n                minLength: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [\"Confirm Password \", !editingUser && '*']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 608,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                name: \"confirmPassword\",\n                className: \"form-input\",\n                value: formData.confirmPassword,\n                onChange: handleInputChange,\n                placeholder: editingUser ? \"Leave blank to keep current password\" : \"Confirm password\",\n                required: !editingUser,\n                minLength: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 609,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            style: {\n              borderTop: '2px solid var(--gray-200)',\n              paddingTop: '20px',\n              marginTop: '24px',\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-professional btn-secondary\",\n              onClick: () => setShowAddModal(false),\n              style: {\n                background: 'var(--gray-500)'\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-professional btn-success\",\n              disabled: !canCreateUser && !editingUser,\n              \"aria-disabled\": !canCreateUser && !editingUser,\n              title: !canCreateUser && !editingUser ? 'You do not have permission to add users' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-check-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this), editingUser ? 'Update User' : canCreateUser ? 'Add User' : 'No permission']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 9\n    }, this), showAddRoleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowAddRoleModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content professional-form\",\n        onClick: e => e.stopPropagation(),\n        style: {\n          maxWidth: '420px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            borderBottom: '2px solid var(--gray-200)',\n            paddingBottom: '12px',\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '20px',\n              fontWeight: '700',\n              color: 'var(--gray-900)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-shield-check\",\n              style: {\n                color: 'var(--primary)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 652,\n              columnNumber: 17\n            }, this), \"Add New Role\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 651,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close btn-professional btn-danger\",\n            onClick: () => setShowAddRoleModal(false),\n            style: {\n              padding: '6px 10px',\n              fontSize: '14px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 660,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 650,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddRoleSubmit,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Role Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 666,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"roleName\",\n              className: \"form-input\",\n              value: newRoleName,\n              onChange: e => setNewRoleName(e.target.value),\n              placeholder: \"e.g., Regional Manager\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 667,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"Only a name is required. We'll create an internal value automatically.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 676,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            style: {\n              borderTop: '2px solid var(--gray-200)',\n              paddingTop: '12px',\n              marginTop: '12px',\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-professional btn-secondary\",\n              onClick: () => setShowAddRoleModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 680,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-professional btn-success\",\n              children: \"Add Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 687,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n};\n_s(UserManagement, \"haZq9QsPRX2MSkEFKA84OSaGx2U=\", false, function () {\n  return [usePermission, usePermission, usePermission, usePermission];\n});\n_c = UserManagement;\nexport default UserManagement;\nvar _c;\n$RefreshReg$(_c, \"UserManagement\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","usePermission","jsxDEV","_jsxDEV","UserManagement","_s","users","setUsers","loading","setLoading","showAddModal","setShowAddModal","editingUser","setEditingUser","formData","setFormData","firstName","lastName","email","employeeId","role","password","confirmPassword","division","section","divisions","setDivisions","sections","setSections","showAddRoleModal","setShowAddRoleModal","newRoleName","setNewRoleName","user","isSuperAdmin","canViewUsers","canCreateUser","canUpdateUser","canDeleteUser","getDivisionName","divisionId","find","div","_id","id","name","getSectionName","sectionId","sec","fetchData","token","localStorage","getItem","usersResponse","fetch","headers","ok","usersData","json","mappedUsers","data","map","_user$division","_user$section","_user$division2","_user$section2","status","isActive","divisionName","sectionName","console","error","userError","divisionsResponse","divisionsData","divisionError","sectionsResponse","sectionsData","sectionError","handleAddUser","handleEditUser","handleDeleteUser","userId","window","confirm","response","method","filter","alert","message","handleSubmit","e","preventDefault","userData","undefined","body","JSON","stringify","result","newUser","handleInputChange","value","target","prev","handleAddRoleSubmit","roleLabel","trim","roleValue","toLowerCase","replace","res","label","dispatchEvent","CustomEvent","detail","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","alignItems","gap","onClick","title","disabled","cursor","toUpperCase","padding","fontSize","length","stopPropagation","borderBottom","paddingBottom","marginBottom","fontWeight","color","onSubmit","gridTemplateColumns","type","onChange","required","placeholder","code","minLength","borderTop","paddingTop","marginTop","justifyContent","background","maxWidth","_c","$RefreshReg$"],"sources":["B:/PortAuthProject/TimeTracker_SLPA/frontend/src/components/dashboard/UserManagement.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport usePermission from '../../hooks/usePermission';\r\n\r\nconst UserManagement = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    employeeId: '',\r\n    role: 'employee',\r\n    password: '',\r\n    confirmPassword: '',\r\n    division: '',\r\n    section: ''\r\n  });\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\r\n  const [newRoleName, setNewRoleName] = useState('');\r\n  const { user } = useContext(AuthContext);\r\n  const isSuperAdmin = user?.role === 'super_admin';\r\n  const canViewUsers = usePermission('users', 'read');\r\n  const canCreateUser = usePermission('users', 'create');\r\n  const canUpdateUser = usePermission('users', 'update');\r\n  const canDeleteUser = usePermission('users', 'delete');\r\n\r\n  // Helper function to get division name by ID\r\n  const getDivisionName = (divisionId) => {\r\n    const division = divisions.find(div => (div._id || div.id) === divisionId);\r\n    return division ? division.name : 'N/A';\r\n  };\r\n\r\n  // Helper function to get section name by ID\r\n  const getSectionName = (sectionId) => {\r\n    const section = sections.find(sec => (sec._id || sec.id) === sectionId);\r\n    return section ? section.name : 'N/A';\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Fetch users and divisions from API\r\n    const fetchData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        \r\n        // Fetch users from database\r\n        try {\r\n          const usersResponse = await fetch('http://localhost:5000/api/users', {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (usersResponse.ok) {\r\n            const usersData = await usersResponse.json();\r\n            // Map the data to match frontend structure\r\n            const mappedUsers = usersData.data.map(user => ({\r\n              id: user._id,\r\n              firstName: user.firstName,\r\n              lastName: user.lastName,\r\n              email: user.email,\r\n              role: user.role,\r\n              employeeId: user.employeeId,\r\n              status: user.isActive ? 'active' : 'inactive',\r\n              division: user.division?._id || user.division,\r\n              section: user.section?._id || user.section,\r\n              divisionName: user.division?.name,\r\n              sectionName: user.section?.name\r\n            }));\r\n            setUsers(mappedUsers);\r\n          } else {\r\n            console.error('Failed to fetch users');\r\n            setUsers([]);\r\n          }\r\n        } catch (userError) {\r\n          console.error('Error fetching users:', userError);\r\n          setUsers([]);\r\n        }\r\n        \r\n        // Fetch divisions from database\r\n        try {\r\n          const divisionsResponse = await fetch('http://localhost:5000/api/divisions', {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (divisionsResponse.ok) {\r\n            const divisionsData = await divisionsResponse.json();\r\n            setDivisions(divisionsData.data || []);\r\n          } else {\r\n            console.error('Failed to fetch divisions');\r\n            setDivisions([]);\r\n          }\r\n        } catch (divisionError) {\r\n          console.error('Error fetching divisions:', divisionError);\r\n          setDivisions([]);\r\n        }\r\n\r\n        // Fetch sections from database\r\n        try {\r\n          const sectionsResponse = await fetch('http://localhost:5000/api/sections', {\r\n            headers: {\r\n              'Authorization': `Bearer ${token}`,\r\n              'Content-Type': 'application/json'\r\n            }\r\n          });\r\n          \r\n          if (sectionsResponse.ok) {\r\n            const sectionsData = await sectionsResponse.json();\r\n            setSections(sectionsData.data || []);\r\n          } else {\r\n            console.error('Failed to fetch sections');\r\n            setSections([]);\r\n          }\r\n        } catch (sectionError) {\r\n          console.error('Error fetching sections:', sectionError);\r\n          setSections([]);\r\n        }\r\n        \r\n        setLoading(false);\r\n        \r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleAddUser = () => {\r\n    setFormData({\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      employeeId: '',\r\n      role: 'employee',\r\n      password: '',\r\n      confirmPassword: '',\r\n      division: '',\r\n      section: ''\r\n    });\r\n    setEditingUser(null);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setFormData({\r\n      firstName: user.firstName,\r\n      lastName: user.lastName,\r\n      email: user.email,\r\n      employeeId: user.employeeId,\r\n      role: user.role,\r\n      password: '',\r\n      confirmPassword: '',\r\n      division: user.division || '',\r\n      section: user.section || ''\r\n    });\r\n    setEditingUser(user);\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    if (window.confirm('Are you sure you want to delete this user?')) {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await fetch(`http://localhost:5000/api/users/${userId}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          }\r\n        });\r\n\r\n        if (response.ok) {\r\n          setUsers(users.filter(user => user.id !== userId));\r\n          alert('User deleted successfully!');\r\n        } else {\r\n          const error = await response.json();\r\n          alert(error.message || 'Failed to delete user');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        alert('Error deleting user. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Enforce front-end permission check as a safeguard\r\n    if (!canCreateUser && !editingUser) {\r\n      alert('You do not have permission to create users.');\r\n      return;\r\n    }\r\n    \r\n    // Check if passwords match when adding a new user\r\n    if (!editingUser && formData.password !== formData.confirmPassword) {\r\n      alert('Passwords do not match!');\r\n      return;\r\n    }\r\n    \r\n    // Validate required fields\r\n    if (!formData.firstName || !formData.lastName || !formData.email || !formData.employeeId || !formData.role) {\r\n      alert('Please fill in all required fields!');\r\n      return;\r\n    }\r\n    \r\n    if (!editingUser && !formData.password) {\r\n      alert('Password is required for new users!');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const userData = {\r\n        firstName: formData.firstName,\r\n        lastName: formData.lastName,\r\n        email: formData.email,\r\n        employeeId: formData.employeeId,\r\n        role: formData.role,\r\n        division: formData.division || undefined,\r\n        section: formData.section || undefined\r\n      };\r\n\r\n      if (!editingUser) {\r\n        userData.password = formData.password;\r\n      } else if (formData.password) {\r\n        userData.password = formData.password;\r\n      }\r\n\r\n      let response;\r\n      if (editingUser) {\r\n        // Update existing user\r\n        response = await fetch(`http://localhost:5000/api/users/${editingUser.id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(userData)\r\n        });\r\n      } else {\r\n        // Create new user\r\n        response = await fetch('http://localhost:5000/api/users', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify(userData)\r\n        });\r\n      }\r\n\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        \r\n        if (editingUser) {\r\n          // Update existing user in state\r\n          setUsers(users.map(user => \r\n            user.id === editingUser.id \r\n              ? {\r\n                  ...user,\r\n                  firstName: formData.firstName,\r\n                  lastName: formData.lastName,\r\n                  email: formData.email,\r\n                  employeeId: formData.employeeId,\r\n                  role: formData.role,\r\n                  division: formData.division,\r\n                  section: formData.section\r\n                }\r\n              : user\r\n          ));\r\n        } else {\r\n          // Add new user to state\r\n          const newUser = {\r\n            id: result.data._id,\r\n            firstName: formData.firstName,\r\n            lastName: formData.lastName,\r\n            email: formData.email,\r\n            employeeId: formData.employeeId,\r\n            role: formData.role,\r\n            status: 'active',\r\n            division: formData.division,\r\n            section: formData.section\r\n          };\r\n          setUsers([...users, newUser]);\r\n        }\r\n        \r\n        setShowAddModal(false);\r\n        setEditingUser(null);\r\n        alert(editingUser ? 'User updated successfully!' : 'User created successfully!');\r\n      } else {\r\n        const error = await response.json();\r\n        alert(error.message || 'Failed to save user');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving user:', error);\r\n      alert('Error saving user. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleAddRoleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\r\n    if (!roleValue) return alert('Please enter a role name');\r\n\r\n    // Persist role to backend\r\n    (async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const res = await fetch('http://localhost:5000/api/roles', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n          },\r\n          body: JSON.stringify({ value: roleValue, label: roleLabel })\r\n        });\r\n\r\n        if (res.ok) {\r\n          const result = await res.json();\r\n          const role = result.data;\r\n          // Notify frontend listeners of the created role\r\n          window.dispatchEvent(new CustomEvent('roleAdded', { detail: { value: role.value, label: role.label } }));\r\n          setNewRoleName('');\r\n          setShowAddRoleModal(false);\r\n          // Navigate to roles view so user can set permissions if desired\r\n          window.dispatchEvent(new CustomEvent('navigateTo', { detail: 'roles' }));\r\n        } else {\r\n          const error = await res.json().catch(() => ({}));\r\n          alert(error.message || 'Failed to create role. Check server logs or authentication.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error creating role:', err);\r\n        alert('Error creating role. Check console for details.');\r\n      }\r\n    })();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!canViewUsers) {\r\n    return (\r\n      <div className=\"user-management\">\r\n        <div className=\"section-header\">\r\n          <h2><i className=\"bi bi-people\"></i> User Management</h2>\r\n        </div>\r\n        <div className=\"professional-card\">\r\n          <div className=\"no-data\">\r\n            <p>You do not have permission to view users. Contact a Super Admin for access.</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-management\">\r\n      {/* Professional Section Header */}\r\n      <div className=\"section-header\">\r\n        <h2><i className=\"bi bi-people\"></i> User Management</h2>\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n          <button \r\n            className=\"btn-professional btn-primary\"\r\n            onClick={canCreateUser ? handleAddUser : undefined}\r\n            title={!canCreateUser ? 'You do not have permission to add users' : 'Add User'}\r\n            disabled={!canCreateUser}\r\n            style={{ cursor: canCreateUser ? 'pointer' : 'not-allowed' }}\r\n          >\r\n            <i className=\"bi bi-plus-circle\"></i> Add User\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Professional Users Table */}\r\n      <div className=\"professional-card\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"professional-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Employee ID</th>\r\n                <th>Name</th>\r\n                <th>Email</th>\r\n                <th>Role</th>\r\n                <th>Division</th>\r\n                <th>Section</th>\r\n                <th>Status</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {users.map(user => (\r\n                <tr key={user.id}>\r\n                  <td><strong>{user.employeeId}</strong></td>\r\n                  <td>{`${user.firstName} ${user.lastName}`}</td>\r\n                  <td>{user.email}</td>\r\n                  <td>\r\n                    <span className={`role-badge role-${user.role.replace('_', '-')}`}>\r\n                      {user.role.replace('_', ' ').toUpperCase()}\r\n                    </span>\r\n                  </td>\r\n                  <td>{getDivisionName(user.division)}</td>\r\n                  <td>{getSectionName(user.section)}</td>\r\n                  <td>\r\n                    <span className={`status-badge status-${user.status}`}>\r\n                      {user.status.toUpperCase()}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <div style={{ display: 'flex', gap: '8px' }}>\r\n                      <button \r\n                        className=\"btn-professional btn-primary\"\r\n                        onClick={canUpdateUser ? () => handleEditUser(user) : undefined}\r\n                        title={!canUpdateUser ? 'No permission to edit users' : 'Edit User'}\r\n                        disabled={!canUpdateUser}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canUpdateUser ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-pencil\"></i>\r\n                      </button>\r\n                      <button \r\n                        className=\"btn-professional btn-danger\"\r\n                        onClick={canDeleteUser ? () => handleDeleteUser(user.id) : undefined}\r\n                        title={!canDeleteUser ? 'No permission to delete users' : 'Delete User'}\r\n                        disabled={!canDeleteUser}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canDeleteUser ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {users.length === 0 && (\r\n          <div className=\"no-data\">\r\n            <p>No users found. Click \"Add User\" to create the first user.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Professional Add/Edit User Modal */}\r\n      {showAddModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowAddModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '20px', marginBottom: '24px' }}>\r\n              <h3 style={{ fontSize: '24px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <i className=\"bi bi-person-plus\" style={{ color: 'var(--primary)' }}></i>\r\n                {editingUser ? 'Edit User' : 'Add New User'}\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowAddModal(false)}\r\n                style={{ padding: '8px 12px', fontSize: '16px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"modal-body\">\r\n              <div className=\"form-row\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">First Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"firstName\"\r\n                    className=\"form-input\"\r\n                    value={formData.firstName}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Last Name *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"lastName\"\r\n                    className=\"form-input\"\r\n                    value={formData.lastName}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-row\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Email *</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    className=\"form-input\"\r\n                    value={formData.email}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"user@slpa.lk\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Employee ID *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"employeeId\"\r\n                    className=\"form-input\"\r\n                    value={formData.employeeId}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"e.g., EMP001\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-row\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Division *</label>\r\n                  <select\r\n                    name=\"division\"\r\n                    className=\"form-select\"\r\n                    value={formData.division}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  >\r\n                    <option value=\"\">Select Division</option>\r\n                    {divisions.map(division => (\r\n                      <option key={division._id || division.id} value={division._id || division.id}>\r\n                        {division.name} ({division.code})\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Role *</label>\r\n                  <select\r\n                    name=\"role\"\r\n                    className=\"form-select\"\r\n                    value={formData.role}\r\n                    onChange={handleInputChange}\r\n                    required\r\n                  >\r\n                    <option value=\"employee\">Employee</option>\r\n                    <option value=\"administrative_clerk\">Administrative Clerk</option>\r\n                    <option value=\"clerk\">Clerk</option>\r\n                    <option value=\"admin\">Administrator</option>\r\n                    <option value=\"super_admin\">Super Admin</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Section</label>\r\n                <select\r\n                  name=\"section\"\r\n                  className=\"form-select\"\r\n                  value={formData.section}\r\n                  onChange={handleInputChange}\r\n                >\r\n                  <option value=\"\">Select Section</option>\r\n                  {sections.map(section => (\r\n                    <option key={section._id || section.id} value={section._id || section.id}>\r\n                      {section.name} ({section.code})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"form-row\" style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '20px' }}>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Password {!editingUser && '*'}</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    className=\"form-input\"\r\n                    value={formData.password}\r\n                    onChange={handleInputChange}\r\n                    placeholder={editingUser ? \"Leave blank to keep current password\" : \"Enter password\"}\r\n                    required={!editingUser}\r\n                    minLength=\"1\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label className=\"form-label\">Confirm Password {!editingUser && '*'}</label>\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"confirmPassword\"\r\n                    className=\"form-input\"\r\n                    value={formData.confirmPassword}\r\n                    onChange={handleInputChange}\r\n                    placeholder={editingUser ? \"Leave blank to keep current password\" : \"Confirm password\"}\r\n                    required={!editingUser}\r\n                    minLength=\"1\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '20px', marginTop: '24px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowAddModal(false)}\r\n                  style={{ background: 'var(--gray-500)' }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                  disabled={!canCreateUser && !editingUser}\r\n                  aria-disabled={!canCreateUser && !editingUser}\r\n                  title={!canCreateUser && !editingUser ? 'You do not have permission to add users' : ''}\r\n                >\r\n                  <i className=\"bi bi-check-circle\"></i>\r\n                  {editingUser ? 'Update User' : (canCreateUser ? 'Add User' : 'No permission')}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showAddRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowAddRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-shield-check\" style={{ color: 'var(--primary)' }}></i>\r\n                Add New Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowAddRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleAddRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Only a name is required. We'll create an internal value automatically.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowAddRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Add Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserManagement;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,2BAA2B;AACvD,OAAOC,aAAa,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACe,WAAW,EAAEC,cAAc,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC;IACvCmB,SAAS,EAAE,EAAE;IACbC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,UAAU,EAAE,EAAE;IACdC,IAAI,EAAE,UAAU;IAChBC,QAAQ,EAAE,EAAE;IACZC,eAAe,EAAE,EAAE;IACnBC,QAAQ,EAAE,EAAE;IACZC,OAAO,EAAE;EACX,CAAC,CAAC;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAAC8B,QAAQ,EAAEC,WAAW,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM,CAACkC,WAAW,EAAEC,cAAc,CAAC,GAAGnC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM;IAAEoC;EAAK,CAAC,GAAGlC,UAAU,CAACC,WAAW,CAAC;EACxC,MAAMkC,YAAY,GAAG,CAAAD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEb,IAAI,MAAK,aAAa;EACjD,MAAMe,YAAY,GAAGlC,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC;EACnD,MAAMmC,aAAa,GAAGnC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC;EACtD,MAAMoC,aAAa,GAAGpC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC;EACtD,MAAMqC,aAAa,GAAGrC,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC;;EAEtD;EACA,MAAMsC,eAAe,GAAIC,UAAU,IAAK;IACtC,MAAMjB,QAAQ,GAAGE,SAAS,CAACgB,IAAI,CAACC,GAAG,IAAI,CAACA,GAAG,CAACC,GAAG,IAAID,GAAG,CAACE,EAAE,MAAMJ,UAAU,CAAC;IAC1E,OAAOjB,QAAQ,GAAGA,QAAQ,CAACsB,IAAI,GAAG,KAAK;EACzC,CAAC;;EAED;EACA,MAAMC,cAAc,GAAIC,SAAS,IAAK;IACpC,MAAMvB,OAAO,GAAGG,QAAQ,CAACc,IAAI,CAACO,GAAG,IAAI,CAACA,GAAG,CAACL,GAAG,IAAIK,GAAG,CAACJ,EAAE,MAAMG,SAAS,CAAC;IACvE,OAAOvB,OAAO,GAAGA,OAAO,CAACqB,IAAI,GAAG,KAAK;EACvC,CAAC;EAED/C,SAAS,CAAC,MAAM;IACd;IACA,MAAMmD,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5B,IAAI;QACF,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;;QAE3C;QACA,IAAI;UACF,MAAMC,aAAa,GAAG,MAAMC,KAAK,CAAC,iCAAiC,EAAE;YACnEC,OAAO,EAAE;cACP,eAAe,EAAE,UAAUL,KAAK,EAAE;cAClC,cAAc,EAAE;YAClB;UACF,CAAC,CAAC;UAEF,IAAIG,aAAa,CAACG,EAAE,EAAE;YACpB,MAAMC,SAAS,GAAG,MAAMJ,aAAa,CAACK,IAAI,CAAC,CAAC;YAC5C;YACA,MAAMC,WAAW,GAAGF,SAAS,CAACG,IAAI,CAACC,GAAG,CAAC5B,IAAI;cAAA,IAAA6B,cAAA,EAAAC,aAAA,EAAAC,eAAA,EAAAC,cAAA;cAAA,OAAK;gBAC9CrB,EAAE,EAAEX,IAAI,CAACU,GAAG;gBACZ3B,SAAS,EAAEiB,IAAI,CAACjB,SAAS;gBACzBC,QAAQ,EAAEgB,IAAI,CAAChB,QAAQ;gBACvBC,KAAK,EAAEe,IAAI,CAACf,KAAK;gBACjBE,IAAI,EAAEa,IAAI,CAACb,IAAI;gBACfD,UAAU,EAAEc,IAAI,CAACd,UAAU;gBAC3B+C,MAAM,EAAEjC,IAAI,CAACkC,QAAQ,GAAG,QAAQ,GAAG,UAAU;gBAC7C5C,QAAQ,EAAE,EAAAuC,cAAA,GAAA7B,IAAI,CAACV,QAAQ,cAAAuC,cAAA,uBAAbA,cAAA,CAAenB,GAAG,KAAIV,IAAI,CAACV,QAAQ;gBAC7CC,OAAO,EAAE,EAAAuC,aAAA,GAAA9B,IAAI,CAACT,OAAO,cAAAuC,aAAA,uBAAZA,aAAA,CAAcpB,GAAG,KAAIV,IAAI,CAACT,OAAO;gBAC1C4C,YAAY,GAAAJ,eAAA,GAAE/B,IAAI,CAACV,QAAQ,cAAAyC,eAAA,uBAAbA,eAAA,CAAenB,IAAI;gBACjCwB,WAAW,GAAAJ,cAAA,GAAEhC,IAAI,CAACT,OAAO,cAAAyC,cAAA,uBAAZA,cAAA,CAAcpB;cAC7B,CAAC;YAAA,CAAC,CAAC;YACHtC,QAAQ,CAACoD,WAAW,CAAC;UACvB,CAAC,MAAM;YACLW,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAC;YACtChE,QAAQ,CAAC,EAAE,CAAC;UACd;QACF,CAAC,CAAC,OAAOiE,SAAS,EAAE;UAClBF,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEC,SAAS,CAAC;UACjDjE,QAAQ,CAAC,EAAE,CAAC;QACd;;QAEA;QACA,IAAI;UACF,MAAMkE,iBAAiB,GAAG,MAAMnB,KAAK,CAAC,qCAAqC,EAAE;YAC3EC,OAAO,EAAE;cACP,eAAe,EAAE,UAAUL,KAAK,EAAE;cAClC,cAAc,EAAE;YAClB;UACF,CAAC,CAAC;UAEF,IAAIuB,iBAAiB,CAACjB,EAAE,EAAE;YACxB,MAAMkB,aAAa,GAAG,MAAMD,iBAAiB,CAACf,IAAI,CAAC,CAAC;YACpDhC,YAAY,CAACgD,aAAa,CAACd,IAAI,IAAI,EAAE,CAAC;UACxC,CAAC,MAAM;YACLU,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC;YAC1C7C,YAAY,CAAC,EAAE,CAAC;UAClB;QACF,CAAC,CAAC,OAAOiD,aAAa,EAAE;UACtBL,OAAO,CAACC,KAAK,CAAC,2BAA2B,EAAEI,aAAa,CAAC;UACzDjD,YAAY,CAAC,EAAE,CAAC;QAClB;;QAEA;QACA,IAAI;UACF,MAAMkD,gBAAgB,GAAG,MAAMtB,KAAK,CAAC,oCAAoC,EAAE;YACzEC,OAAO,EAAE;cACP,eAAe,EAAE,UAAUL,KAAK,EAAE;cAClC,cAAc,EAAE;YAClB;UACF,CAAC,CAAC;UAEF,IAAI0B,gBAAgB,CAACpB,EAAE,EAAE;YACvB,MAAMqB,YAAY,GAAG,MAAMD,gBAAgB,CAAClB,IAAI,CAAC,CAAC;YAClD9B,WAAW,CAACiD,YAAY,CAACjB,IAAI,IAAI,EAAE,CAAC;UACtC,CAAC,MAAM;YACLU,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAC;YACzC3C,WAAW,CAAC,EAAE,CAAC;UACjB;QACF,CAAC,CAAC,OAAOkD,YAAY,EAAE;UACrBR,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEO,YAAY,CAAC;UACvDlD,WAAW,CAAC,EAAE,CAAC;QACjB;QAEAnB,UAAU,CAAC,KAAK,CAAC;MAEnB,CAAC,CAAC,OAAO8D,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C9D,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDwC,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,MAAM8B,aAAa,GAAGA,CAAA,KAAM;IAC1BhE,WAAW,CAAC;MACVC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,UAAU,EAAE,EAAE;MACdC,IAAI,EAAE,UAAU;MAChBC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;IACX,CAAC,CAAC;IACFX,cAAc,CAAC,IAAI,CAAC;IACpBF,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAMqE,cAAc,GAAI/C,IAAI,IAAK;IAC/BlB,WAAW,CAAC;MACVC,SAAS,EAAEiB,IAAI,CAACjB,SAAS;MACzBC,QAAQ,EAAEgB,IAAI,CAAChB,QAAQ;MACvBC,KAAK,EAAEe,IAAI,CAACf,KAAK;MACjBC,UAAU,EAAEc,IAAI,CAACd,UAAU;MAC3BC,IAAI,EAAEa,IAAI,CAACb,IAAI;MACfC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,QAAQ,EAAEU,IAAI,CAACV,QAAQ,IAAI,EAAE;MAC7BC,OAAO,EAAES,IAAI,CAACT,OAAO,IAAI;IAC3B,CAAC,CAAC;IACFX,cAAc,CAACoB,IAAI,CAAC;IACpBtB,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,MAAMsE,gBAAgB,GAAG,MAAOC,MAAM,IAAK;IACzC,IAAIC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,EAAE;MAChE,IAAI;QACF,MAAMlC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMiC,QAAQ,GAAG,MAAM/B,KAAK,CAAC,mCAAmC4B,MAAM,EAAE,EAAE;UACxEI,MAAM,EAAE,QAAQ;UAChB/B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUL,KAAK,EAAE;YAClC,cAAc,EAAE;UAClB;QACF,CAAC,CAAC;QAEF,IAAImC,QAAQ,CAAC7B,EAAE,EAAE;UACfjD,QAAQ,CAACD,KAAK,CAACiF,MAAM,CAACtD,IAAI,IAAIA,IAAI,CAACW,EAAE,KAAKsC,MAAM,CAAC,CAAC;UAClDM,KAAK,CAAC,4BAA4B,CAAC;QACrC,CAAC,MAAM;UACL,MAAMjB,KAAK,GAAG,MAAMc,QAAQ,CAAC3B,IAAI,CAAC,CAAC;UACnC8B,KAAK,CAACjB,KAAK,CAACkB,OAAO,IAAI,uBAAuB,CAAC;QACjD;MACF,CAAC,CAAC,OAAOlB,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5CiB,KAAK,CAAC,wCAAwC,CAAC;MACjD;IACF;EACF,CAAC;EAED,MAAME,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB;IACA,IAAI,CAACxD,aAAa,IAAI,CAACxB,WAAW,EAAE;MAClC4E,KAAK,CAAC,6CAA6C,CAAC;MACpD;IACF;;IAEA;IACA,IAAI,CAAC5E,WAAW,IAAIE,QAAQ,CAACO,QAAQ,KAAKP,QAAQ,CAACQ,eAAe,EAAE;MAClEkE,KAAK,CAAC,yBAAyB,CAAC;MAChC;IACF;;IAEA;IACA,IAAI,CAAC1E,QAAQ,CAACE,SAAS,IAAI,CAACF,QAAQ,CAACG,QAAQ,IAAI,CAACH,QAAQ,CAACI,KAAK,IAAI,CAACJ,QAAQ,CAACK,UAAU,IAAI,CAACL,QAAQ,CAACM,IAAI,EAAE;MAC1GoE,KAAK,CAAC,qCAAqC,CAAC;MAC5C;IACF;IAEA,IAAI,CAAC5E,WAAW,IAAI,CAACE,QAAQ,CAACO,QAAQ,EAAE;MACtCmE,KAAK,CAAC,qCAAqC,CAAC;MAC5C;IACF;IAEA,IAAI;MACF,MAAMtC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MAC3C,MAAMyC,QAAQ,GAAG;QACf7E,SAAS,EAAEF,QAAQ,CAACE,SAAS;QAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;QAC3BC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;QACrBC,UAAU,EAAEL,QAAQ,CAACK,UAAU;QAC/BC,IAAI,EAAEN,QAAQ,CAACM,IAAI;QACnBG,QAAQ,EAAET,QAAQ,CAACS,QAAQ,IAAIuE,SAAS;QACxCtE,OAAO,EAAEV,QAAQ,CAACU,OAAO,IAAIsE;MAC/B,CAAC;MAED,IAAI,CAAClF,WAAW,EAAE;QAChBiF,QAAQ,CAACxE,QAAQ,GAAGP,QAAQ,CAACO,QAAQ;MACvC,CAAC,MAAM,IAAIP,QAAQ,CAACO,QAAQ,EAAE;QAC5BwE,QAAQ,CAACxE,QAAQ,GAAGP,QAAQ,CAACO,QAAQ;MACvC;MAEA,IAAIgE,QAAQ;MACZ,IAAIzE,WAAW,EAAE;QACf;QACAyE,QAAQ,GAAG,MAAM/B,KAAK,CAAC,mCAAmC1C,WAAW,CAACgC,EAAE,EAAE,EAAE;UAC1E0C,MAAM,EAAE,KAAK;UACb/B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUL,KAAK,EAAE;YAClC,cAAc,EAAE;UAClB,CAAC;UACD6C,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;QAC/B,CAAC,CAAC;MACJ,CAAC,MAAM;QACL;QACAR,QAAQ,GAAG,MAAM/B,KAAK,CAAC,iCAAiC,EAAE;UACxDgC,MAAM,EAAE,MAAM;UACd/B,OAAO,EAAE;YACP,eAAe,EAAE,UAAUL,KAAK,EAAE;YAClC,cAAc,EAAE;UAClB,CAAC;UACD6C,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ;QAC/B,CAAC,CAAC;MACJ;MAEA,IAAIR,QAAQ,CAAC7B,EAAE,EAAE;QACf,MAAM0C,MAAM,GAAG,MAAMb,QAAQ,CAAC3B,IAAI,CAAC,CAAC;QAEpC,IAAI9C,WAAW,EAAE;UACf;UACAL,QAAQ,CAACD,KAAK,CAACuD,GAAG,CAAC5B,IAAI,IACrBA,IAAI,CAACW,EAAE,KAAKhC,WAAW,CAACgC,EAAE,GACtB;YACE,GAAGX,IAAI;YACPjB,SAAS,EAAEF,QAAQ,CAACE,SAAS;YAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;YAC3BC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;YACrBC,UAAU,EAAEL,QAAQ,CAACK,UAAU;YAC/BC,IAAI,EAAEN,QAAQ,CAACM,IAAI;YACnBG,QAAQ,EAAET,QAAQ,CAACS,QAAQ;YAC3BC,OAAO,EAAEV,QAAQ,CAACU;UACpB,CAAC,GACDS,IACN,CAAC,CAAC;QACJ,CAAC,MAAM;UACL;UACA,MAAMkE,OAAO,GAAG;YACdvD,EAAE,EAAEsD,MAAM,CAACtC,IAAI,CAACjB,GAAG;YACnB3B,SAAS,EAAEF,QAAQ,CAACE,SAAS;YAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;YAC3BC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;YACrBC,UAAU,EAAEL,QAAQ,CAACK,UAAU;YAC/BC,IAAI,EAAEN,QAAQ,CAACM,IAAI;YACnB8C,MAAM,EAAE,QAAQ;YAChB3C,QAAQ,EAAET,QAAQ,CAACS,QAAQ;YAC3BC,OAAO,EAAEV,QAAQ,CAACU;UACpB,CAAC;UACDjB,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAE6F,OAAO,CAAC,CAAC;QAC/B;QAEAxF,eAAe,CAAC,KAAK,CAAC;QACtBE,cAAc,CAAC,IAAI,CAAC;QACpB2E,KAAK,CAAC5E,WAAW,GAAG,4BAA4B,GAAG,4BAA4B,CAAC;MAClF,CAAC,MAAM;QACL,MAAM2D,KAAK,GAAG,MAAMc,QAAQ,CAAC3B,IAAI,CAAC,CAAC;QACnC8B,KAAK,CAACjB,KAAK,CAACkB,OAAO,IAAI,qBAAqB,CAAC;MAC/C;IACF,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACdD,OAAO,CAACC,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1CiB,KAAK,CAAC,sCAAsC,CAAC;IAC/C;EACF,CAAC;EAED,MAAMY,iBAAiB,GAAIT,CAAC,IAAK;IAC/B,MAAM;MAAE9C,IAAI;MAAEwD;IAAM,CAAC,GAAGV,CAAC,CAACW,MAAM;IAChCvF,WAAW,CAACwF,IAAI,KAAK;MACnB,GAAGA,IAAI;MACP,CAAC1D,IAAI,GAAGwD;IACV,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMG,mBAAmB,GAAIb,CAAC,IAAK;IACjCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,MAAMa,SAAS,GAAG1E,WAAW,CAAC2E,IAAI,CAAC,CAAC;IACpC,MAAMC,SAAS,GAAGF,SAAS,CAACG,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;IAC9D,IAAI,CAACF,SAAS,EAAE,OAAOnB,KAAK,CAAC,0BAA0B,CAAC;;IAExD;IACA,CAAC,YAAY;MACX,IAAI;QACF,MAAMtC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAM0D,GAAG,GAAG,MAAMxD,KAAK,CAAC,iCAAiC,EAAE;UACzDgC,MAAM,EAAE,MAAM;UACd/B,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,IAAIL,KAAK,GAAG;cAAE,eAAe,EAAE,UAAUA,KAAK;YAAG,CAAC,GAAG,CAAC,CAAC;UACzD,CAAC;UACD6C,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YAAEI,KAAK,EAAEM,SAAS;YAAEI,KAAK,EAAEN;UAAU,CAAC;QAC7D,CAAC,CAAC;QAEF,IAAIK,GAAG,CAACtD,EAAE,EAAE;UACV,MAAM0C,MAAM,GAAG,MAAMY,GAAG,CAACpD,IAAI,CAAC,CAAC;UAC/B,MAAMtC,IAAI,GAAG8E,MAAM,CAACtC,IAAI;UACxB;UACAuB,MAAM,CAAC6B,aAAa,CAAC,IAAIC,WAAW,CAAC,WAAW,EAAE;YAAEC,MAAM,EAAE;cAAEb,KAAK,EAAEjF,IAAI,CAACiF,KAAK;cAAEU,KAAK,EAAE3F,IAAI,CAAC2F;YAAM;UAAE,CAAC,CAAC,CAAC;UACxG/E,cAAc,CAAC,EAAE,CAAC;UAClBF,mBAAmB,CAAC,KAAK,CAAC;UAC1B;UACAqD,MAAM,CAAC6B,aAAa,CAAC,IAAIC,WAAW,CAAC,YAAY,EAAE;YAAEC,MAAM,EAAE;UAAQ,CAAC,CAAC,CAAC;QAC1E,CAAC,MAAM;UACL,MAAM3C,KAAK,GAAG,MAAMuC,GAAG,CAACpD,IAAI,CAAC,CAAC,CAACyD,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;UAChD3B,KAAK,CAACjB,KAAK,CAACkB,OAAO,IAAI,6DAA6D,CAAC;QACvF;MACF,CAAC,CAAC,OAAO2B,GAAG,EAAE;QACZ9C,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAE6C,GAAG,CAAC;QAC1C5B,KAAK,CAAC,iDAAiD,CAAC;MAC1D;IACF,CAAC,EAAE,CAAC;EACN,CAAC;EAED,IAAIhF,OAAO,EAAE;IACX,oBACEL,OAAA;MAAKkH,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eAChCnH,OAAA;QAAKkH,SAAS,EAAC,gBAAgB;QAACjG,IAAI,EAAC,QAAQ;QAAAkG,QAAA,eAC3CnH,OAAA;UAAMkH,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,IAAI,CAACvF,YAAY,EAAE;IACjB,oBACEhC,OAAA;MAAKkH,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BnH,OAAA;QAAKkH,SAAS,EAAC,gBAAgB;QAAAC,QAAA,eAC7BnH,OAAA;UAAAmH,QAAA,gBAAInH,OAAA;YAAGkH,SAAS,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,oBAAgB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtD,CAAC,eACNvH,OAAA;QAAKkH,SAAS,EAAC,mBAAmB;QAAAC,QAAA,eAChCnH,OAAA;UAAKkH,SAAS,EAAC,SAAS;UAAAC,QAAA,eACtBnH,OAAA;YAAAmH,QAAA,EAAG;UAA2E;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC/E;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACEvH,OAAA;IAAKkH,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAE9BnH,OAAA;MAAKkH,SAAS,EAAC,gBAAgB;MAAAC,QAAA,gBAC7BnH,OAAA;QAAAmH,QAAA,gBAAInH,OAAA;UAAGkH,SAAS,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,oBAAgB;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzDvH,OAAA;QAAKwH,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,UAAU,EAAE,QAAQ;UAAEC,GAAG,EAAE;QAAM,CAAE;QAAAR,QAAA,eAChEnH,OAAA;UACEkH,SAAS,EAAC,8BAA8B;UACxCU,OAAO,EAAE3F,aAAa,GAAG2C,aAAa,GAAGe,SAAU;UACnDkC,KAAK,EAAE,CAAC5F,aAAa,GAAG,yCAAyC,GAAG,UAAW;UAC/E6F,QAAQ,EAAE,CAAC7F,aAAc;UACzBuF,KAAK,EAAE;YAAEO,MAAM,EAAE9F,aAAa,GAAG,SAAS,GAAG;UAAc,CAAE;UAAAkF,QAAA,gBAE7DnH,OAAA;YAAGkH,SAAS,EAAC;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,aACvC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNvH,OAAA;MAAKkH,SAAS,EAAC,mBAAmB;MAAAC,QAAA,gBAChCnH,OAAA;QAAKkH,SAAS,EAAC,kBAAkB;QAAAC,QAAA,eAC/BnH,OAAA;UAAOkH,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBACnCnH,OAAA;YAAAmH,QAAA,eACEnH,OAAA;cAAAmH,QAAA,gBACEnH,OAAA;gBAAAmH,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpBvH,OAAA;gBAAAmH,QAAA,EAAI;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACbvH,OAAA;gBAAAmH,QAAA,EAAI;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACdvH,OAAA;gBAAAmH,QAAA,EAAI;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACbvH,OAAA;gBAAAmH,QAAA,EAAI;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjBvH,OAAA;gBAAAmH,QAAA,EAAI;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChBvH,OAAA;gBAAAmH,QAAA,EAAI;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfvH,OAAA;gBAAAmH,QAAA,EAAI;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRvH,OAAA;YAAAmH,QAAA,EACGhH,KAAK,CAACuD,GAAG,CAAC5B,IAAI,iBACb9B,OAAA;cAAAmH,QAAA,gBACEnH,OAAA;gBAAAmH,QAAA,eAAInH,OAAA;kBAAAmH,QAAA,EAASrF,IAAI,CAACd;gBAAU;kBAAAoG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAS;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3CvH,OAAA;gBAAAmH,QAAA,EAAK,GAAGrF,IAAI,CAACjB,SAAS,IAAIiB,IAAI,CAAChB,QAAQ;cAAE;gBAAAsG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC/CvH,OAAA;gBAAAmH,QAAA,EAAKrF,IAAI,CAACf;cAAK;gBAAAqG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACrBvH,OAAA;gBAAAmH,QAAA,eACEnH,OAAA;kBAAMkH,SAAS,EAAE,mBAAmBpF,IAAI,CAACb,IAAI,CAACyF,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,EAAG;kBAAAS,QAAA,EAC/DrF,IAAI,CAACb,IAAI,CAACyF,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACsB,WAAW,CAAC;gBAAC;kBAAAZ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtC;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACLvH,OAAA;gBAAAmH,QAAA,EAAK/E,eAAe,CAACN,IAAI,CAACV,QAAQ;cAAC;gBAAAgG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACzCvH,OAAA;gBAAAmH,QAAA,EAAKxE,cAAc,CAACb,IAAI,CAACT,OAAO;cAAC;gBAAA+F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACvCvH,OAAA;gBAAAmH,QAAA,eACEnH,OAAA;kBAAMkH,SAAS,EAAE,uBAAuBpF,IAAI,CAACiC,MAAM,EAAG;kBAAAoD,QAAA,EACnDrF,IAAI,CAACiC,MAAM,CAACiE,WAAW,CAAC;gBAAC;kBAAAZ,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACLvH,OAAA;gBAAAmH,QAAA,eACEnH,OAAA;kBAAKwH,KAAK,EAAE;oBAAEC,OAAO,EAAE,MAAM;oBAAEE,GAAG,EAAE;kBAAM,CAAE;kBAAAR,QAAA,gBAC1CnH,OAAA;oBACEkH,SAAS,EAAC,8BAA8B;oBACxCU,OAAO,EAAE1F,aAAa,GAAG,MAAM2C,cAAc,CAAC/C,IAAI,CAAC,GAAG6D,SAAU;oBAChEkC,KAAK,EAAE,CAAC3F,aAAa,GAAG,6BAA6B,GAAG,WAAY;oBACpE4F,QAAQ,EAAE,CAAC5F,aAAc;oBACzBsF,KAAK,EAAE;sBAAES,OAAO,EAAE,UAAU;sBAAEC,QAAQ,EAAE,MAAM;sBAAEH,MAAM,EAAE7F,aAAa,GAAG,SAAS,GAAG;oBAAc,CAAE;oBAAAiF,QAAA,eAEpGnH,OAAA;sBAAGkH,SAAS,EAAC;oBAAc;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC1B,CAAC,eACTvH,OAAA;oBACEkH,SAAS,EAAC,6BAA6B;oBACvCU,OAAO,EAAEzF,aAAa,GAAG,MAAM2C,gBAAgB,CAAChD,IAAI,CAACW,EAAE,CAAC,GAAGkD,SAAU;oBACrEkC,KAAK,EAAE,CAAC1F,aAAa,GAAG,+BAA+B,GAAG,aAAc;oBACxE2F,QAAQ,EAAE,CAAC3F,aAAc;oBACzBqF,KAAK,EAAE;sBAAES,OAAO,EAAE,UAAU;sBAAEC,QAAQ,EAAE,MAAM;sBAAEH,MAAM,EAAE5F,aAAa,GAAG,SAAS,GAAG;oBAAc,CAAE;oBAAAgF,QAAA,eAEpGnH,OAAA;sBAAGkH,SAAS,EAAC;oBAAa;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ,CAAC;YAAA,GArCEzF,IAAI,CAACW,EAAE;cAAA2E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAsCZ,CACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,EAELpH,KAAK,CAACgI,MAAM,KAAK,CAAC,iBACjBnI,OAAA;QAAKkH,SAAS,EAAC,SAAS;QAAAC,QAAA,eACtBnH,OAAA;UAAAmH,QAAA,EAAG;QAA0D;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9D,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLhH,YAAY,iBACXP,OAAA;MAAKkH,SAAS,EAAC,eAAe;MAACU,OAAO,EAAEA,CAAA,KAAMpH,eAAe,CAAC,KAAK,CAAE;MAAA2G,QAAA,eACnEnH,OAAA;QAAKkH,SAAS,EAAC,iCAAiC;QAACU,OAAO,EAAGpC,CAAC,IAAKA,CAAC,CAAC4C,eAAe,CAAC,CAAE;QAAAjB,QAAA,gBACnFnH,OAAA;UAAKkH,SAAS,EAAC,cAAc;UAACM,KAAK,EAAE;YAAEa,YAAY,EAAE,2BAA2B;YAAEC,aAAa,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAO,CAAE;UAAApB,QAAA,gBAC9HnH,OAAA;YAAIwH,KAAK,EAAE;cAAEU,QAAQ,EAAE,MAAM;cAAEM,UAAU,EAAE,KAAK;cAAEC,KAAK,EAAE,iBAAiB;cAAEhB,OAAO,EAAE,MAAM;cAAEC,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE;YAAO,CAAE;YAAAR,QAAA,gBAC/HnH,OAAA;cAAGkH,SAAS,EAAC,mBAAmB;cAACM,KAAK,EAAE;gBAAEiB,KAAK,EAAE;cAAiB;YAAE;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACxE9G,WAAW,GAAG,WAAW,GAAG,cAAc;UAAA;YAAA2G,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzC,CAAC,eACLvH,OAAA;YACEkH,SAAS,EAAC,yCAAyC;YACnDU,OAAO,EAAEA,CAAA,KAAMpH,eAAe,CAAC,KAAK,CAAE;YACtCgH,KAAK,EAAE;cAAES,OAAO,EAAE,UAAU;cAAEC,QAAQ,EAAE;YAAO,CAAE;YAAAf,QAAA,eAEjDnH,OAAA;cAAGkH,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENvH,OAAA;UAAM0I,QAAQ,EAAEnD,YAAa;UAAC2B,SAAS,EAAC,YAAY;UAAAC,QAAA,gBAClDnH,OAAA;YAAKkH,SAAS,EAAC,UAAU;YAACM,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEkB,mBAAmB,EAAE,SAAS;cAAEhB,GAAG,EAAE;YAAO,CAAE;YAAAR,QAAA,gBAChGnH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClDvH,OAAA;gBACE4I,IAAI,EAAC,MAAM;gBACXlG,IAAI,EAAC,WAAW;gBAChBwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACE,SAAU;gBAC1BgI,QAAQ,EAAE5C,iBAAkB;gBAC5B6C,QAAQ;cAAA;gBAAA1B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNvH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACjDvH,OAAA;gBACE4I,IAAI,EAAC,MAAM;gBACXlG,IAAI,EAAC,UAAU;gBACfwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACG,QAAS;gBACzB+H,QAAQ,EAAE5C,iBAAkB;gBAC5B6C,QAAQ;cAAA;gBAAA1B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,UAAU;YAACM,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEkB,mBAAmB,EAAE,SAAS;cAAEhB,GAAG,EAAE;YAAO,CAAE;YAAAR,QAAA,gBAChGnH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC7CvH,OAAA;gBACE4I,IAAI,EAAC,OAAO;gBACZlG,IAAI,EAAC,OAAO;gBACZwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACI,KAAM;gBACtB8H,QAAQ,EAAE5C,iBAAkB;gBAC5B8C,WAAW,EAAC,cAAc;gBAC1BD,QAAQ;cAAA;gBAAA1B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNvH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACnDvH,OAAA;gBACE4I,IAAI,EAAC,MAAM;gBACXlG,IAAI,EAAC,YAAY;gBACjBwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACK,UAAW;gBAC3B6H,QAAQ,EAAE5C,iBAAkB;gBAC5B8C,WAAW,EAAC,cAAc;gBAC1BD,QAAQ;cAAA;gBAAA1B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,UAAU;YAACM,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEkB,mBAAmB,EAAE,SAAS;cAAEhB,GAAG,EAAE;YAAO,CAAE;YAAAR,QAAA,gBAChGnH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChDvH,OAAA;gBACE0C,IAAI,EAAC,UAAU;gBACfwE,SAAS,EAAC,aAAa;gBACvBhB,KAAK,EAAEvF,QAAQ,CAACS,QAAS;gBACzByH,QAAQ,EAAE5C,iBAAkB;gBAC5B6C,QAAQ;gBAAA3B,QAAA,gBAERnH,OAAA;kBAAQkG,KAAK,EAAC,EAAE;kBAAAiB,QAAA,EAAC;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,EACxCjG,SAAS,CAACoC,GAAG,CAACtC,QAAQ,iBACrBpB,OAAA;kBAA0CkG,KAAK,EAAE9E,QAAQ,CAACoB,GAAG,IAAIpB,QAAQ,CAACqB,EAAG;kBAAA0E,QAAA,GAC1E/F,QAAQ,CAACsB,IAAI,EAAC,IAAE,EAACtB,QAAQ,CAAC4H,IAAI,EAAC,GAClC;gBAAA,GAFa5H,QAAQ,CAACoB,GAAG,IAAIpB,QAAQ,CAACqB,EAAE;kBAAA2E,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEhC,CACT,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eACNvH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,EAAC;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC5CvH,OAAA;gBACE0C,IAAI,EAAC,MAAM;gBACXwE,SAAS,EAAC,aAAa;gBACvBhB,KAAK,EAAEvF,QAAQ,CAACM,IAAK;gBACrB4H,QAAQ,EAAE5C,iBAAkB;gBAC5B6C,QAAQ;gBAAA3B,QAAA,gBAERnH,OAAA;kBAAQkG,KAAK,EAAC,UAAU;kBAAAiB,QAAA,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC1CvH,OAAA;kBAAQkG,KAAK,EAAC,sBAAsB;kBAAAiB,QAAA,EAAC;gBAAoB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAClEvH,OAAA;kBAAQkG,KAAK,EAAC,OAAO;kBAAAiB,QAAA,EAAC;gBAAK;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eACpCvH,OAAA;kBAAQkG,KAAK,EAAC,OAAO;kBAAAiB,QAAA,EAAC;gBAAa;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAC5CvH,OAAA;kBAAQkG,KAAK,EAAC,aAAa;kBAAAiB,QAAA,EAAC;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC1C,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBnH,OAAA;cAAOkH,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC7CvH,OAAA;cACE0C,IAAI,EAAC,SAAS;cACdwE,SAAS,EAAC,aAAa;cACvBhB,KAAK,EAAEvF,QAAQ,CAACU,OAAQ;cACxBwH,QAAQ,EAAE5C,iBAAkB;cAAAkB,QAAA,gBAE5BnH,OAAA;gBAAQkG,KAAK,EAAC,EAAE;gBAAAiB,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,EACvC/F,QAAQ,CAACkC,GAAG,CAACrC,OAAO,iBACnBrB,OAAA;gBAAwCkG,KAAK,EAAE7E,OAAO,CAACmB,GAAG,IAAInB,OAAO,CAACoB,EAAG;gBAAA0E,QAAA,GACtE9F,OAAO,CAACqB,IAAI,EAAC,IAAE,EAACrB,OAAO,CAAC2H,IAAI,EAAC,GAChC;cAAA,GAFa3H,OAAO,CAACmB,GAAG,IAAInB,OAAO,CAACoB,EAAE;gBAAA2E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAE9B,CACT,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,UAAU;YAACM,KAAK,EAAE;cAAEC,OAAO,EAAE,MAAM;cAAEkB,mBAAmB,EAAE,SAAS;cAAEhB,GAAG,EAAE;YAAO,CAAE;YAAAR,QAAA,gBAChGnH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAC,WAAS,EAAC,CAAC1G,WAAW,IAAI,GAAG;cAAA;gBAAA2G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACpEvH,OAAA;gBACE4I,IAAI,EAAC,UAAU;gBACflG,IAAI,EAAC,UAAU;gBACfwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACO,QAAS;gBACzB2H,QAAQ,EAAE5C,iBAAkB;gBAC5B8C,WAAW,EAAEtI,WAAW,GAAG,sCAAsC,GAAG,gBAAiB;gBACrFqI,QAAQ,EAAE,CAACrI,WAAY;gBACvBwI,SAAS,EAAC;cAAG;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC,eACNvH,OAAA;cAAKkH,SAAS,EAAC,YAAY;cAAAC,QAAA,gBACzBnH,OAAA;gBAAOkH,SAAS,EAAC,YAAY;gBAAAC,QAAA,GAAC,mBAAiB,EAAC,CAAC1G,WAAW,IAAI,GAAG;cAAA;gBAAA2G,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC5EvH,OAAA;gBACE4I,IAAI,EAAC,UAAU;gBACflG,IAAI,EAAC,iBAAiB;gBACtBwE,SAAS,EAAC,YAAY;gBACtBhB,KAAK,EAAEvF,QAAQ,CAACQ,eAAgB;gBAChC0H,QAAQ,EAAE5C,iBAAkB;gBAC5B8C,WAAW,EAAEtI,WAAW,GAAG,sCAAsC,GAAG,kBAAmB;gBACvFqI,QAAQ,EAAE,CAACrI,WAAY;gBACvBwI,SAAS,EAAC;cAAG;gBAAA7B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACd,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,cAAc;YAACM,KAAK,EAAE;cAAE0B,SAAS,EAAE,2BAA2B;cAAEC,UAAU,EAAE,MAAM;cAAEC,SAAS,EAAE,MAAM;cAAE3B,OAAO,EAAE,MAAM;cAAEE,GAAG,EAAE,MAAM;cAAE0B,cAAc,EAAE;YAAW,CAAE;YAAAlC,QAAA,gBAC/KnH,OAAA;cACE4I,IAAI,EAAC,QAAQ;cACb1B,SAAS,EAAC,gCAAgC;cAC1CU,OAAO,EAAEA,CAAA,KAAMpH,eAAe,CAAC,KAAK,CAAE;cACtCgH,KAAK,EAAE;gBAAE8B,UAAU,EAAE;cAAkB,CAAE;cAAAnC,QAAA,EAC1C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTvH,OAAA;cACE4I,IAAI,EAAC,QAAQ;cACb1B,SAAS,EAAC,8BAA8B;cACxCY,QAAQ,EAAE,CAAC7F,aAAa,IAAI,CAACxB,WAAY;cACzC,iBAAe,CAACwB,aAAa,IAAI,CAACxB,WAAY;cAC9CoH,KAAK,EAAE,CAAC5F,aAAa,IAAI,CAACxB,WAAW,GAAG,yCAAyC,GAAG,EAAG;cAAA0G,QAAA,gBAEvFnH,OAAA;gBAAGkH,SAAS,EAAC;cAAoB;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,EACrC9G,WAAW,GAAG,aAAa,GAAIwB,aAAa,GAAG,UAAU,GAAG,eAAgB;YAAA;cAAAmF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAEA7F,gBAAgB,iBACf1B,OAAA;MAAKkH,SAAS,EAAC,eAAe;MAACU,OAAO,EAAEA,CAAA,KAAMjG,mBAAmB,CAAC,KAAK,CAAE;MAAAwF,QAAA,eACvEnH,OAAA;QAAKkH,SAAS,EAAC,iCAAiC;QAACU,OAAO,EAAGpC,CAAC,IAAKA,CAAC,CAAC4C,eAAe,CAAC,CAAE;QAACZ,KAAK,EAAE;UAAE+B,QAAQ,EAAE;QAAQ,CAAE;QAAApC,QAAA,gBACjHnH,OAAA;UAAKkH,SAAS,EAAC,cAAc;UAACM,KAAK,EAAE;YAAEa,YAAY,EAAE,2BAA2B;YAAEC,aAAa,EAAE,MAAM;YAAEC,YAAY,EAAE;UAAO,CAAE;UAAApB,QAAA,gBAC9HnH,OAAA;YAAIwH,KAAK,EAAE;cAAEU,QAAQ,EAAE,MAAM;cAAEM,UAAU,EAAE,KAAK;cAAEC,KAAK,EAAE,iBAAiB;cAAEhB,OAAO,EAAE,MAAM;cAAEC,UAAU,EAAE,QAAQ;cAAEC,GAAG,EAAE;YAAM,CAAE;YAAAR,QAAA,gBAC9HnH,OAAA;cAAGkH,SAAS,EAAC,oBAAoB;cAACM,KAAK,EAAE;gBAAEiB,KAAK,EAAE;cAAiB;YAAE;cAAArB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,gBAE5E;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLvH,OAAA;YACEkH,SAAS,EAAC,yCAAyC;YACnDU,OAAO,EAAEA,CAAA,KAAMjG,mBAAmB,CAAC,KAAK,CAAE;YAC1C6F,KAAK,EAAE;cAAES,OAAO,EAAE,UAAU;cAAEC,QAAQ,EAAE;YAAO,CAAE;YAAAf,QAAA,eAEjDnH,OAAA;cAAGkH,SAAS,EAAC;YAAS;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAENvH,OAAA;UAAM0I,QAAQ,EAAErC,mBAAoB;UAACa,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzDnH,OAAA;YAAKkH,SAAS,EAAC,YAAY;YAAAC,QAAA,gBACzBnH,OAAA;cAAOkH,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAW;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDvH,OAAA;cACE4I,IAAI,EAAC,MAAM;cACXlG,IAAI,EAAC,UAAU;cACfwE,SAAS,EAAC,YAAY;cACtBhB,KAAK,EAAEtE,WAAY;cACnBiH,QAAQ,EAAGrD,CAAC,IAAK3D,cAAc,CAAC2D,CAAC,CAACW,MAAM,CAACD,KAAK,CAAE;cAChD6C,WAAW,EAAC,wBAAwB;cACpCD,QAAQ;YAAA;cAAA1B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACFvH,OAAA;cAAOkH,SAAS,EAAC,YAAY;cAAAC,QAAA,EAAC;YAAsE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzG,CAAC,eAENvH,OAAA;YAAKkH,SAAS,EAAC,cAAc;YAACM,KAAK,EAAE;cAAE0B,SAAS,EAAE,2BAA2B;cAAEC,UAAU,EAAE,MAAM;cAAEC,SAAS,EAAE,MAAM;cAAE3B,OAAO,EAAE,MAAM;cAAEE,GAAG,EAAE,MAAM;cAAE0B,cAAc,EAAE;YAAW,CAAE;YAAAlC,QAAA,gBAC/KnH,OAAA;cACE4I,IAAI,EAAC,QAAQ;cACb1B,SAAS,EAAC,gCAAgC;cAC1CU,OAAO,EAAEA,CAAA,KAAMjG,mBAAmB,CAAC,KAAK,CAAE;cAAAwF,QAAA,EAC3C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTvH,OAAA;cACE4I,IAAI,EAAC,QAAQ;cACb1B,SAAS,EAAC,8BAA8B;cAAAC,QAAA,EACzC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACrH,EAAA,CAvrBID,cAAc;EAAA,QAsBGH,aAAa,EACZA,aAAa,EACbA,aAAa,EACbA,aAAa;AAAA;AAAA0J,EAAA,GAzB/BvJ,cAAc;AAyrBpB,eAAeA,cAAc;AAAC,IAAAuJ,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}