{"ast":null,"code":"import React,{useState,useEffect,useContext}from'react';import{AuthContext}from'../../context/AuthContext';import'./RoleAccessManagement.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const RoleManagement=()=>{const{user}=useContext(AuthContext);const[roles,setRoles]=useState([]);const[loading,setLoading]=useState(true);const[showAddRoleModal,setShowAddRoleModal]=useState(false);const[showEditRoleModal,setShowEditRoleModal]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const[showSuccessModal,setShowSuccessModal]=useState(false);const[newRoleName,setNewRoleName]=useState('');const[editingRole,setEditingRole]=useState(null);const[roleToDelete,setRoleToDelete]=useState(null);const[message,setMessage]=useState('');const[messageType,setMessageType]=useState('');const[toastVisible,setToastVisible]=useState(false);const[successMessage,setSuccessMessage]=useState('');const isSuperAdmin=(user===null||user===void 0?void 0:user.role)==='super_admin';// Add permission check functions for rolesManage\nconst hasRoleManageReadPermission=()=>{var _user$permissions,_user$permissions$rol;if(isSuperAdmin)return true;return(user===null||user===void 0?void 0:(_user$permissions=user.permissions)===null||_user$permissions===void 0?void 0:(_user$permissions$rol=_user$permissions.rolesManage)===null||_user$permissions$rol===void 0?void 0:_user$permissions$rol.read)===true;};const hasRoleManageCreatePermission=()=>{var _user$permissions2,_user$permissions2$ro;if(isSuperAdmin)return true;return(user===null||user===void 0?void 0:(_user$permissions2=user.permissions)===null||_user$permissions2===void 0?void 0:(_user$permissions2$ro=_user$permissions2.rolesManage)===null||_user$permissions2$ro===void 0?void 0:_user$permissions2$ro.create)===true;};const hasRoleManageUpdatePermission=()=>{var _user$permissions3,_user$permissions3$ro;if(isSuperAdmin)return true;return(user===null||user===void 0?void 0:(_user$permissions3=user.permissions)===null||_user$permissions3===void 0?void 0:(_user$permissions3$ro=_user$permissions3.rolesManage)===null||_user$permissions3$ro===void 0?void 0:_user$permissions3$ro.update)===true;};const hasRoleManageDeletePermission=()=>{var _user$permissions4,_user$permissions4$ro;if(isSuperAdmin)return true;return(user===null||user===void 0?void 0:(_user$permissions4=user.permissions)===null||_user$permissions4===void 0?void 0:(_user$permissions4$ro=_user$permissions4.rolesManage)===null||_user$permissions4$ro===void 0?void 0:_user$permissions4$ro.delete)===true;};// Show success modal with message\nconst showSuccessPopup=message=>{setSuccessMessage(message);setShowSuccessModal(true);// Auto close after 3 seconds\nsetTimeout(()=>{setShowSuccessModal(false);setSuccessMessage('');},3000);};// Fetch roles from backend\nconst fetchRoles=async()=>{try{setLoading(true);const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/roles',{headers:{...(token?{'Authorization':`Bearer ${token}`}:{})}});if(response.ok){const data=await response.json();console.log('Fetched roles:',data.data);setRoles(data.data||[]);}else{console.error('Failed to fetch roles, status:',response.status);setMessage('Failed to fetch roles');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}}catch(error){console.error('Error fetching roles:',error);setMessage('Error fetching roles');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}finally{setLoading(false);}};useEffect(()=>{fetchRoles();},[]);// Handle Add Role form submission\nconst handleAddRoleSubmit=async e=>{e.preventDefault();const roleLabel=newRoleName.trim();const roleValue=roleLabel.toLowerCase().replace(/\\s+/g,'_');if(!roleValue)return;try{const token=localStorage.getItem('token');const res=await fetch('http://localhost:5000/api/roles',{method:'POST',headers:{'Content-Type':'application/json',...(token?{'Authorization':`Bearer ${token}`}:{})},body:JSON.stringify({value:roleValue,label:roleLabel})});if(res.ok){const result=await res.json();const role=result.data;// Add the new role to the roles state\nsetRoles(prev=>[...prev,role]);// Clear form and close modal\nsetNewRoleName('');setShowAddRoleModal(false);// Show enhanced success popup\nshowSuccessPopup(`Role \"${role.label}\" has been successfully created!`);// Also show the regular toast\nsetMessage(`Role \"${role.label}\" created successfully!`);setMessageType('success');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);// Notify other components\nwindow.dispatchEvent(new CustomEvent('roleAdded',{detail:{value:role.value,label:role.label}}));}else{const error=await res.json().catch(()=>({}));setMessage(error.message||'Failed to create role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}}catch(err){console.error('Error creating role:',err);setMessage('Network error while creating role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}};// Handle Edit Role form submission\nconst handleEditRoleSubmit=async e=>{e.preventDefault();const roleLabel=newRoleName.trim();if(!roleLabel||!editingRole)return;try{const token=localStorage.getItem('token');const res=await fetch(`http://localhost:5000/api/roles/${editingRole._id}`,{method:'PUT',headers:{'Content-Type':'application/json',...(token?{'Authorization':`Bearer ${token}`}:{})},body:JSON.stringify({label:roleLabel})});if(res.ok){const result=await res.json();const updatedRole=result.data;// Update the role in the roles state\nsetRoles(prev=>prev.map(role=>role._id===editingRole._id?updatedRole:role));// Clear form and close modal\nsetNewRoleName('');setEditingRole(null);setShowEditRoleModal(false);// Show enhanced success popup\nshowSuccessPopup(`Role \"${updatedRole.label}\" has been successfully updated!`);// Also show the regular toast\nsetMessage(`Role updated successfully!`);setMessageType('success');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}else{const error=await res.json().catch(()=>({}));setMessage(error.message||'Failed to update role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}}catch(err){console.error('Error updating role:',err);setMessage('Network error while updating role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}};// Handle Delete Role\nconst handleDeleteRole=async()=>{console.log('handleDeleteRole called with roleToDelete:',roleToDelete);if(!roleToDelete){console.error('No role to delete');return;}try{const token=localStorage.getItem('token');console.log('Token exists:',!!token);console.log('Attempting to delete role:',roleToDelete._id,roleToDelete.label);const res=await fetch(`http://localhost:5000/api/roles/${roleToDelete._id}`,{method:'DELETE',headers:{'Content-Type':'application/json',...(token?{'Authorization':`Bearer ${token}`}:{})}});console.log('Delete response status:',res.status,res.statusText);if(res.ok){const responseData=await res.json();console.log('Delete successful:',responseData);// Remove the role from the roles state\nsetRoles(prev=>{const filteredRoles=prev.filter(role=>role._id!==roleToDelete._id);console.log('Updated roles list:',filteredRoles);return filteredRoles;});// Clear state and close modal\nsetRoleToDelete(null);setShowDeleteConfirm(false);// Show enhanced success popup\nshowSuccessPopup(`Role \"${roleToDelete.label}\" has been successfully deleted from the system!`);// Also show the regular toast for backup\nsetMessage(`Role \"${roleToDelete.label}\" deleted successfully!`);setMessageType('success');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}else{const errorText=await res.text();console.error('Delete failed with response:',errorText);let error;try{error=JSON.parse(errorText);}catch(e){error={message:errorText||'Failed to delete role'};}setMessage(error.message||'Failed to delete role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}}catch(err){console.error('Error deleting role:',err);setMessage('Network error while deleting role');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}};// Open edit modal\nconst openEditModal=role=>{setEditingRole(role);setNewRoleName(role.label);setShowEditRoleModal(true);};// Open delete confirmation\nconst openDeleteConfirm=role=>{console.log('Opening delete confirmation for role:',role);setRoleToDelete(role);setShowDeleteConfirm(true);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"role-access-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"role-access-wrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"geometric-background\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"geometric-shape shape-1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"geometric-shape shape-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"geometric-shape shape-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"geometric-shape shape-4\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header-custom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",style:{display:'flex',justifyContent:'space-between',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-wrapper-large\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-people-fill\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"page-title\",children:\"Role Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Create, edit, and manage user roles in the system\"})]}),hasRoleManageReadPermission()?/*#__PURE__*/_jsxs(\"button\",{className:`btn-professional ${hasRoleManageCreatePermission()?'btn-primary':'btn-secondary'}`,onClick:()=>{if(hasRoleManageCreatePermission()){setShowAddRoleModal(true);}else{setMessage('You do not have permission to create roles. Contact a Super Admin for \"rolesManage.create\" access.');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}},title:hasRoleManageCreatePermission()?\"Add New Role\":\"You need 'rolesManage.create' permission to add roles\",style:{padding:'10px 16px',fontSize:'14px',cursor:hasRoleManageCreatePermission()?'pointer':'not-allowed',opacity:hasRoleManageCreatePermission()?1:0.6},children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${hasRoleManageCreatePermission()?'bi-plus-circle':'bi-lock'}`}),\"Add Role\",!hasRoleManageCreatePermission()&&/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle ml-1\",style:{fontSize:'12px'}})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",style:{margin:0,padding:'8px 12px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle mr-2\"}),\"You have limited access to role management.\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body-custom\",children:[toastVisible&&message&&/*#__PURE__*/_jsxs(\"div\",{className:`toast-popup ${messageType==='success'?'toast-success':'toast-error'}`,children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${messageType==='success'?'bi-check-circle':'bi-exclamation-circle'} mr-2`}),message]}),!hasRoleManageReadPermission()&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-lock-fill mr-2\"}),\"You do not have permission to view role management. Contact a Super Admin for \\\"rolesManage.read\\\" access.\"]}),hasRoleManageReadPermission()&&!hasRoleManageCreatePermission()&&!hasRoleManageUpdatePermission()&&!hasRoleManageDeletePermission()&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye mr-2\"}),\"You have read-only access to role management. Contact a Super Admin for additional permissions.\"]}),hasRoleManageReadPermission()&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"professional-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"professional-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Role Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:roles.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center\",children:\"No roles found\"})}):roles.map(role=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:role.label})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"code\",{children:role.value})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(role.createdAt||Date.now()).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:hasRoleManageReadPermission()?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsxs(\"button\",{className:`btn-professional ${hasRoleManageUpdatePermission()?'btn-secondary':'btn-secondary'}`,onClick:()=>{if(hasRoleManageUpdatePermission()){openEditModal(role);}else{setMessage('You do not have permission to edit roles. Contact a Super Admin for \"rolesManage.update\" access.');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}},title:hasRoleManageUpdatePermission()?\"Edit Role\":\"You need 'rolesManage.update' permission to edit roles\",style:{padding:'6px 10px',fontSize:'12px',cursor:hasRoleManageUpdatePermission()?'pointer':'not-allowed',opacity:hasRoleManageUpdatePermission()?1:0.6},children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${hasRoleManageUpdatePermission()?'bi-pencil':'bi-lock'}`}),\"Edit\",!hasRoleManageUpdatePermission()&&/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle ml-1\",style:{fontSize:'10px'}})]}),/*#__PURE__*/_jsxs(\"button\",{className:`btn-professional ${hasRoleManageDeletePermission()?'btn-danger':'btn-secondary'}`,onClick:e=>{e.preventDefault();e.stopPropagation();if(hasRoleManageDeletePermission()){console.log('Delete button clicked for role:',role);openDeleteConfirm(role);}else{setMessage('You do not have permission to delete roles. Contact a Super Admin for \"rolesManage.delete\" access.');setMessageType('error');setToastVisible(true);setTimeout(()=>setToastVisible(false),4000);}},title:hasRoleManageDeletePermission()?\"Delete Role\":\"You need 'rolesManage.delete' permission to delete roles\",style:{padding:'6px 10px',fontSize:'12px',cursor:hasRoleManageDeletePermission()?'pointer':'not-allowed',opacity:hasRoleManageDeletePermission()?1:0.6},children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${hasRoleManageDeletePermission()?'bi-trash':'bi-lock'}`}),\"Delete\",!hasRoleManageDeletePermission()&&/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle ml-1\",style:{fontSize:'10px'}})]})]}):/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-lock mr-1\"}),\"No access\"]})})]},role._id))})]})})})})]})]})}),showAddRoleModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowAddRoleModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content professional-form\",onClick:e=>e.stopPropagation(),style:{maxWidth:'420px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{borderBottom:'2px solid var(--gray-200)',paddingBottom:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'20px',fontWeight:'700',color:'var(--gray-900)',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle\",style:{color:'var(--primary)'}}),\"Add New Role\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close btn-professional btn-danger\",onClick:()=>setShowAddRoleModal(false),style:{padding:'6px 10px',fontSize:'14px'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddRoleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Role Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"roleName\",className:\"form-input\",value:newRoleName,onChange:e=>setNewRoleName(e.target.value),placeholder:\"e.g., Regional Manager\",required:true}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Only a name is required. We'll create an internal value automatically.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",style:{borderTop:'2px solid var(--gray-200)',paddingTop:'12px',marginTop:'12px',display:'flex',gap:'12px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-professional btn-secondary\",onClick:()=>setShowAddRoleModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-professional btn-success\",children:\"Add Role\"})]})]})]})}),showEditRoleModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowEditRoleModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content professional-form\",onClick:e=>e.stopPropagation(),style:{maxWidth:'420px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{borderBottom:'2px solid var(--gray-200)',paddingBottom:'12px',marginBottom:'16px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'20px',fontWeight:'700',color:'var(--gray-900)',display:'flex',alignItems:'center',gap:'8px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\",style:{color:'var(--primary)'}}),\"Edit Role\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close btn-professional btn-danger\",onClick:()=>setShowEditRoleModal(false),style:{padding:'6px 10px',fontSize:'14px'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleEditRoleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Role Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"roleName\",className:\"form-input\",value:newRoleName,onChange:e=>setNewRoleName(e.target.value),placeholder:\"e.g., Regional Manager\",required:true}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Update the role name. The internal value will remain the same.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",style:{borderTop:'2px solid var(--gray-200)',paddingTop:'12px',marginTop:'12px',display:'flex',gap:'12px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-professional btn-secondary\",onClick:()=>setShowEditRoleModal(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-professional btn-success\",children:\"Update Role\"})]})]})]})}),showDeleteConfirm&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowDeleteConfirm(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content confirm-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Confirm Role Deletion\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Are you sure you want to delete the role \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\\"\",roleToDelete===null||roleToDelete===void 0?void 0:roleToDelete.label,\"\\\"\"]}),\"?\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-exclamation-triangle\"}),\"This action cannot be undone. Users with this role may lose access to certain features.\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-professional btn-secondary\",onClick:()=>setShowDeleteConfirm(false),children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-professional btn-danger\",onClick:e=>{e.preventDefault();console.log('Delete confirmation clicked, calling handleDeleteRole');handleDeleteRole();},children:\"Yes, Delete Role\"})]})]})}),showSuccessModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",style:{backgroundColor:'rgba(0, 0, 0, 0.5)',zIndex:9999},children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content success-modal-content\",onClick:e=>e.stopPropagation(),style:{maxWidth:'500px',textAlign:'center',border:'3px solid #28a745',borderRadius:'15px',background:'linear-gradient(135deg, #f8f9fa, #e9ecef)',boxShadow:'0 10px 30px rgba(40, 167, 69, 0.3)',animation:'fadeInUp 0.3s ease-out'},children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'30px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'60px',color:'#28a745',marginBottom:'20px',animation:'bounce 1s ease-in-out'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check-circle-fill\"})}),/*#__PURE__*/_jsx(\"h2\",{style:{color:'#28a745',marginBottom:'15px',fontWeight:'bold'},children:\"Success!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'16px',color:'#495057',marginBottom:'25px',lineHeight:'1.5'},children:successMessage}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-professional btn-success\",onClick:()=>setShowSuccessModal(false),style:{padding:'10px 30px',fontSize:'16px',fontWeight:'bold'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-check2\"}),\" Awesome!\"]})]})})})]});};export default RoleManagement;","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RoleManagement","user","roles","setRoles","loading","setLoading","showAddRoleModal","setShowAddRoleModal","showEditRoleModal","setShowEditRoleModal","showDeleteConfirm","setShowDeleteConfirm","showSuccessModal","setShowSuccessModal","newRoleName","setNewRoleName","editingRole","setEditingRole","roleToDelete","setRoleToDelete","message","setMessage","messageType","setMessageType","toastVisible","setToastVisible","successMessage","setSuccessMessage","isSuperAdmin","role","hasRoleManageReadPermission","_user$permissions","_user$permissions$rol","permissions","rolesManage","read","hasRoleManageCreatePermission","_user$permissions2","_user$permissions2$ro","create","hasRoleManageUpdatePermission","_user$permissions3","_user$permissions3$ro","update","hasRoleManageDeletePermission","_user$permissions4","_user$permissions4$ro","delete","showSuccessPopup","setTimeout","fetchRoles","token","localStorage","getItem","response","fetch","headers","ok","data","json","console","log","error","status","handleAddRoleSubmit","e","preventDefault","roleLabel","trim","roleValue","toLowerCase","replace","res","method","body","JSON","stringify","value","label","result","prev","window","dispatchEvent","CustomEvent","detail","catch","err","handleEditRoleSubmit","_id","updatedRole","map","handleDeleteRole","statusText","responseData","filteredRoles","filter","errorText","text","parse","openEditModal","openDeleteConfirm","className","children","style","display","justifyContent","alignItems","width","onClick","title","padding","fontSize","cursor","opacity","margin","length","colSpan","Date","createdAt","now","toLocaleDateString","gap","stopPropagation","maxWidth","borderBottom","paddingBottom","marginBottom","fontWeight","color","onSubmit","type","name","onChange","target","placeholder","required","borderTop","paddingTop","marginTop","backgroundColor","zIndex","textAlign","border","borderRadius","background","boxShadow","animation","lineHeight"],"sources":["C:/Users/User/Documents/Project/af2/TimeTracker_SLPA/frontend/src/components/dashboard/RoleManagement.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport './RoleAccessManagement.css';\r\n\r\nconst RoleManagement = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\r\n  const [showEditRoleModal, setShowEditRoleModal] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [newRoleName, setNewRoleName] = useState('');\r\n  const [editingRole, setEditingRole] = useState(null);\r\n  const [roleToDelete, setRoleToDelete] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n  const [toastVisible, setToastVisible] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const isSuperAdmin = user?.role === 'super_admin';\r\n\r\n  // Add permission check functions for rolesManage\r\n  const hasRoleManageReadPermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.read === true;\r\n  };\r\n\r\n  const hasRoleManageCreatePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.create === true;\r\n  };\r\n\r\n  const hasRoleManageUpdatePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.update === true;\r\n  };\r\n\r\n  const hasRoleManageDeletePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.delete === true;\r\n  };\r\n\r\n  // Show success modal with message\r\n  const showSuccessPopup = (message) => {\r\n    setSuccessMessage(message);\r\n    setShowSuccessModal(true);\r\n    // Auto close after 3 seconds\r\n    setTimeout(() => {\r\n      setShowSuccessModal(false);\r\n      setSuccessMessage('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Fetch roles from backend\r\n  const fetchRoles = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/roles', {\r\n        headers: {\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Fetched roles:', data.data);\r\n        setRoles(data.data || []);\r\n      } else {\r\n        console.error('Failed to fetch roles, status:', response.status);\r\n        setMessage('Failed to fetch roles');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching roles:', error);\r\n      setMessage('Error fetching roles');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n  }, []);\r\n\r\n  // Handle Add Role form submission\r\n  const handleAddRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\r\n    if (!roleValue) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch('http://localhost:5000/api/roles', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ value: roleValue, label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const role = result.data;\r\n        \r\n        // Add the new role to the roles state\r\n        setRoles(prev => [...prev, role]);\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setShowAddRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${role.label}\" has been successfully created!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role \"${role.label}\" created successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleAdded', { detail: { value: role.value, label: role.label } }));\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to create role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating role:', err);\r\n      setMessage('Network error while creating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Edit Role form submission\r\n  const handleEditRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    if (!roleLabel || !editingRole) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`http://localhost:5000/api/roles/${editingRole._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const updatedRole = result.data;\r\n        \r\n        // Update the role in the roles state\r\n        setRoles(prev => prev.map(role => \r\n          role._id === editingRole._id ? updatedRole : role\r\n        ));\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setEditingRole(null);\r\n        setShowEditRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${updatedRole.label}\" has been successfully updated!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role updated successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to update role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating role:', err);\r\n      setMessage('Network error while updating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Delete Role\r\n  const handleDeleteRole = async () => {\r\n    console.log('handleDeleteRole called with roleToDelete:', roleToDelete);\r\n    \r\n    if (!roleToDelete) {\r\n      console.error('No role to delete');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Token exists:', !!token);\r\n      console.log('Attempting to delete role:', roleToDelete._id, roleToDelete.label);\r\n      \r\n      const res = await fetch(`http://localhost:5000/api/roles/${roleToDelete._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      console.log('Delete response status:', res.status, res.statusText);\r\n\r\n      if (res.ok) {\r\n        const responseData = await res.json();\r\n        console.log('Delete successful:', responseData);\r\n        \r\n        // Remove the role from the roles state\r\n        setRoles(prev => {\r\n          const filteredRoles = prev.filter(role => role._id !== roleToDelete._id);\r\n          console.log('Updated roles list:', filteredRoles);\r\n          return filteredRoles;\r\n        });\r\n        \r\n        // Clear state and close modal\r\n        setRoleToDelete(null);\r\n        setShowDeleteConfirm(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${roleToDelete.label}\" has been successfully deleted from the system!`);\r\n        \r\n        // Also show the regular toast for backup\r\n        setMessage(`Role \"${roleToDelete.label}\" deleted successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      } else {\r\n        const errorText = await res.text();\r\n        console.error('Delete failed with response:', errorText);\r\n        \r\n        let error;\r\n        try {\r\n          error = JSON.parse(errorText);\r\n        } catch (e) {\r\n          error = { message: errorText || 'Failed to delete role' };\r\n        }\r\n        \r\n        setMessage(error.message || 'Failed to delete role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting role:', err);\r\n      setMessage('Network error while deleting role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Open edit modal\r\n  const openEditModal = (role) => {\r\n    setEditingRole(role);\r\n    setNewRoleName(role.label);\r\n    setShowEditRoleModal(true);\r\n  };\r\n\r\n  // Open delete confirmation\r\n  const openDeleteConfirm = (role) => {\r\n    console.log('Opening delete confirmation for role:', role);\r\n    setRoleToDelete(role);\r\n    setShowDeleteConfirm(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"role-access-wrapper\">\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"loading-spinner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"role-access-wrapper\">\r\n      {/* Background shapes */}\r\n      <div className=\"geometric-background\">\r\n        <div className=\"geometric-shape shape-1\"></div>\r\n        <div className=\"geometric-shape shape-2\"></div>\r\n        <div className=\"geometric-shape shape-3\"></div>\r\n        <div className=\"geometric-shape shape-4\"></div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid px-4\">\r\n        <div className=\"main-card\">\r\n          <div className=\"card-header-custom\">\r\n            <div className=\"header-content\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%' }}>\r\n              <div className=\"header-text\">\r\n                <div className=\"icon-wrapper-large\">\r\n                  <i className=\"bi bi-people-fill\"></i>\r\n                </div>\r\n                <h1 className=\"page-title\">Role Management</h1>\r\n                <p className=\"page-subtitle\">Create, edit, and manage user roles in the system</p>\r\n              </div>\r\n              \r\n              {hasRoleManageReadPermission() ? (\r\n                <button\r\n                  className={`btn-professional ${hasRoleManageCreatePermission() ? 'btn-primary' : 'btn-secondary'}`}\r\n                  onClick={() => {\r\n                    if (hasRoleManageCreatePermission()) {\r\n                      setShowAddRoleModal(true);\r\n                    } else {\r\n                      setMessage('You do not have permission to create roles. Contact a Super Admin for \"rolesManage.create\" access.');\r\n                      setMessageType('error');\r\n                      setToastVisible(true);\r\n                      setTimeout(() => setToastVisible(false), 4000);\r\n                    }\r\n                  }}\r\n                  title={hasRoleManageCreatePermission() ? \"Add New Role\" : \"You need 'rolesManage.create' permission to add roles\"}\r\n                  style={{ \r\n                    padding: '10px 16px', \r\n                    fontSize: '14px',\r\n                    cursor: hasRoleManageCreatePermission() ? 'pointer' : 'not-allowed',\r\n                    opacity: hasRoleManageCreatePermission() ? 1 : 0.6\r\n                  }}\r\n                >\r\n                  <i className={`bi ${hasRoleManageCreatePermission() ? 'bi-plus-circle' : 'bi-lock'}`}></i> \r\n                  Add Role\r\n                  {!hasRoleManageCreatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '12px'}}></i>}\r\n                </button>\r\n              ) : (\r\n                <div className=\"alert alert-info\" style={{ margin: 0, padding: '8px 12px', fontSize: '14px' }}>\r\n                  <i className=\"bi bi-info-circle mr-2\"></i>\r\n                  You have limited access to role management.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"card-body-custom\">\r\n            {/* Toast popup */}\r\n            {toastVisible && message && (\r\n              <div className={`toast-popup ${messageType === 'success' ? 'toast-success' : 'toast-error'}`}>\r\n                <i className={`bi ${messageType === 'success' ? 'bi-check-circle' : 'bi-exclamation-circle'} mr-2`}></i>\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Access Control Messages */}\r\n            {!hasRoleManageReadPermission() && (\r\n              <div className=\"alert alert-warning\">\r\n                <i className=\"bi bi-lock-fill mr-2\"></i>\r\n                You do not have permission to view role management. Contact a Super Admin for \"rolesManage.read\" access.\r\n              </div>\r\n            )}\r\n\r\n            {hasRoleManageReadPermission() && !hasRoleManageCreatePermission() && !hasRoleManageUpdatePermission() && !hasRoleManageDeletePermission() && (\r\n              <div className=\"alert alert-info\">\r\n                <i className=\"bi bi-eye mr-2\"></i>\r\n                You have read-only access to role management. Contact a Super Admin for additional permissions.\r\n              </div>\r\n            )}\r\n\r\n            {/* Show content only if user has read access */}\r\n            {hasRoleManageReadPermission() && (\r\n              <>\r\n                {/* Roles Table */}\r\n            <div className=\"professional-card\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"professional-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Role Name</th>\r\n                      <th>Role Value</th>\r\n                      <th>Created Date</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {roles.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"text-center\">\r\n                          No roles found\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      roles.map(role => (\r\n                        <tr key={role._id}>\r\n                          <td><strong>{role.label}</strong></td>\r\n                          <td><code>{role.value}</code></td>\r\n                          <td>{new Date(role.createdAt || Date.now()).toLocaleDateString()}</td>\r\n                          <td>\r\n                            {hasRoleManageReadPermission() ? (\r\n                              <div style={{ display: 'flex', gap: '8px' }}>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageUpdatePermission() ? 'btn-secondary' : 'btn-secondary'}`}\r\n                                  onClick={() => {\r\n                                    if (hasRoleManageUpdatePermission()) {\r\n                                      openEditModal(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to edit roles. Contact a Super Admin for \"rolesManage.update\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageUpdatePermission() ? \"Edit Role\" : \"You need 'rolesManage.update' permission to edit roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageUpdatePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageUpdatePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageUpdatePermission() ? 'bi-pencil' : 'bi-lock'}`}></i> \r\n                                  Edit\r\n                                  {!hasRoleManageUpdatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageDeletePermission() ? 'btn-danger' : 'btn-secondary'}`}\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    e.stopPropagation();\r\n                                    if (hasRoleManageDeletePermission()) {\r\n                                      console.log('Delete button clicked for role:', role);\r\n                                      openDeleteConfirm(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to delete roles. Contact a Super Admin for \"rolesManage.delete\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageDeletePermission() ? \"Delete Role\" : \"You need 'rolesManage.delete' permission to delete roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageDeletePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageDeletePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageDeletePermission() ? 'bi-trash' : 'bi-lock'}`}></i> \r\n                                  Delete\r\n                                  {!hasRoleManageDeletePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-muted\">\r\n                                <i className=\"bi bi-lock mr-1\"></i>\r\n                                No access\r\n                              </span>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Role Modal */}\r\n      {showAddRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowAddRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-plus-circle\" style={{ color: 'var(--primary)' }}></i>\r\n                Add New Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowAddRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleAddRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Only a name is required. We'll create an internal value automatically.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowAddRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Add Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Role Modal */}\r\n      {showEditRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowEditRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-pencil\" style={{ color: 'var(--primary)' }}></i>\r\n                Edit Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowEditRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleEditRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Update the role name. The internal value will remain the same.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowEditRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Update Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowDeleteConfirm(false)}>\r\n          <div className=\"modal-content confirm-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h4>Confirm Role Deletion</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Are you sure you want to delete the role <strong>\"{roleToDelete?.label}\"</strong>?</p>\r\n              <p className=\"text-warning\">\r\n                <i className=\"bi bi-exclamation-triangle\"></i>\r\n                This action cannot be undone. Users with this role may lose access to certain features.\r\n              </p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button \r\n                className=\"btn-professional btn-secondary\" \r\n                onClick={() => setShowDeleteConfirm(false)}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                className=\"btn-professional btn-danger\" \r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  console.log('Delete confirmation clicked, calling handleDeleteRole');\r\n                  handleDeleteRole();\r\n                }}\r\n              >\r\n                Yes, Delete Role\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Modal */}\r\n      {showSuccessModal && (\r\n        <div className=\"modal-overlay\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)', zIndex: 9999 }}>\r\n          <div className=\"modal-content success-modal-content\" onClick={(e) => e.stopPropagation()} style={{ \r\n            maxWidth: '500px', \r\n            textAlign: 'center',\r\n            border: '3px solid #28a745',\r\n            borderRadius: '15px',\r\n            background: 'linear-gradient(135deg, #f8f9fa, #e9ecef)',\r\n            boxShadow: '0 10px 30px rgba(40, 167, 69, 0.3)',\r\n            animation: 'fadeInUp 0.3s ease-out'\r\n          }}>\r\n            <div style={{ padding: '30px' }}>\r\n              <div style={{ \r\n                fontSize: '60px', \r\n                color: '#28a745', \r\n                marginBottom: '20px',\r\n                animation: 'bounce 1s ease-in-out'\r\n              }}>\r\n                <i className=\"bi bi-check-circle-fill\"></i>\r\n              </div>\r\n              <h2 style={{ \r\n                color: '#28a745', \r\n                marginBottom: '15px',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                Success!\r\n              </h2>\r\n              <p style={{ \r\n                fontSize: '16px', \r\n                color: '#495057',\r\n                marginBottom: '25px',\r\n                lineHeight: '1.5'\r\n              }}>\r\n                {successMessage}\r\n              </p>\r\n              <button \r\n                className=\"btn-professional btn-success\"\r\n                onClick={() => setShowSuccessModal(false)}\r\n                style={{ \r\n                  padding: '10px 30px',\r\n                  fontSize: '16px',\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                <i className=\"bi bi-check2\"></i> Awesome!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}