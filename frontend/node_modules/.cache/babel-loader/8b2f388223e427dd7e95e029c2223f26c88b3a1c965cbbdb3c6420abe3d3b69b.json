{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Project\\\\af2\\\\TimeTracker_SLPA\\\\frontend\\\\src\\\\components\\\\dashboard\\\\RoleManagement.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport './RoleAccessManagement.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst RoleManagement = () => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\n  const [showEditRoleModal, setShowEditRoleModal] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\n  const [newRoleName, setNewRoleName] = useState('');\n  const [editingRole, setEditingRole] = useState(null);\n  const [roleToDelete, setRoleToDelete] = useState(null);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const [toastVisible, setToastVisible] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const isSuperAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'super_admin';\n\n  // Add permission check functions for rolesManage\n  const hasRoleManageReadPermission = () => {\n    var _user$permissions, _user$permissions$rol;\n    if (isSuperAdmin) return true;\n    return (user === null || user === void 0 ? void 0 : (_user$permissions = user.permissions) === null || _user$permissions === void 0 ? void 0 : (_user$permissions$rol = _user$permissions.rolesManage) === null || _user$permissions$rol === void 0 ? void 0 : _user$permissions$rol.read) === true;\n  };\n  const hasRoleManageCreatePermission = () => {\n    var _user$permissions2, _user$permissions2$ro;\n    if (isSuperAdmin) return true;\n    return (user === null || user === void 0 ? void 0 : (_user$permissions2 = user.permissions) === null || _user$permissions2 === void 0 ? void 0 : (_user$permissions2$ro = _user$permissions2.rolesManage) === null || _user$permissions2$ro === void 0 ? void 0 : _user$permissions2$ro.create) === true;\n  };\n  const hasRoleManageUpdatePermission = () => {\n    var _user$permissions3, _user$permissions3$ro;\n    if (isSuperAdmin) return true;\n    return (user === null || user === void 0 ? void 0 : (_user$permissions3 = user.permissions) === null || _user$permissions3 === void 0 ? void 0 : (_user$permissions3$ro = _user$permissions3.rolesManage) === null || _user$permissions3$ro === void 0 ? void 0 : _user$permissions3$ro.update) === true;\n  };\n  const hasRoleManageDeletePermission = () => {\n    var _user$permissions4, _user$permissions4$ro;\n    if (isSuperAdmin) return true;\n    return (user === null || user === void 0 ? void 0 : (_user$permissions4 = user.permissions) === null || _user$permissions4 === void 0 ? void 0 : (_user$permissions4$ro = _user$permissions4.rolesManage) === null || _user$permissions4$ro === void 0 ? void 0 : _user$permissions4$ro.delete) === true;\n  };\n\n  // Show success modal with message\n  const showSuccessPopup = message => {\n    setSuccessMessage(message);\n    setShowSuccessModal(true);\n    // Auto close after 3 seconds\n    setTimeout(() => {\n      setShowSuccessModal(false);\n      setSuccessMessage('');\n    }, 3000);\n  };\n\n  // Fetch roles from backend\n  const fetchRoles = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const response = await fetch('http://localhost:5000/api/roles', {\n        headers: {\n          ...(token ? {\n            'Authorization': `Bearer ${token}`\n          } : {})\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        console.log('Fetched roles:', data.data);\n        setRoles(data.data || []);\n      } else {\n        console.error('Failed to fetch roles, status:', response.status);\n        setMessage('Failed to fetch roles');\n        setMessageType('error');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n      }\n    } catch (error) {\n      console.error('Error fetching roles:', error);\n      setMessage('Error fetching roles');\n      setMessageType('error');\n      setToastVisible(true);\n      setTimeout(() => setToastVisible(false), 4000);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchRoles();\n  }, []);\n\n  // Handle Add Role form submission\n  const handleAddRoleSubmit = async e => {\n    e.preventDefault();\n    const roleLabel = newRoleName.trim();\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\n    if (!roleValue) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch('http://localhost:5000/api/roles', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            'Authorization': `Bearer ${token}`\n          } : {})\n        },\n        body: JSON.stringify({\n          value: roleValue,\n          label: roleLabel\n        })\n      });\n      if (res.ok) {\n        const result = await res.json();\n        const role = result.data;\n\n        // Add the new role to the roles state\n        setRoles(prev => [...prev, role]);\n\n        // Clear form and close modal\n        setNewRoleName('');\n        setShowAddRoleModal(false);\n\n        // Show enhanced success popup\n        showSuccessPopup(`Role \"${role.label}\" has been successfully created!`);\n\n        // Also show the regular toast\n        setMessage(`Role \"${role.label}\" created successfully!`);\n        setMessageType('success');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n\n        // Notify other components\n        window.dispatchEvent(new CustomEvent('roleAdded', {\n          detail: {\n            value: role.value,\n            label: role.label\n          }\n        }));\n      } else {\n        const error = await res.json().catch(() => ({}));\n        setMessage(error.message || 'Failed to create role');\n        setMessageType('error');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n      }\n    } catch (err) {\n      console.error('Error creating role:', err);\n      setMessage('Network error while creating role');\n      setMessageType('error');\n      setToastVisible(true);\n      setTimeout(() => setToastVisible(false), 4000);\n    }\n  };\n\n  // Handle Edit Role form submission\n  const handleEditRoleSubmit = async e => {\n    e.preventDefault();\n    const roleLabel = newRoleName.trim();\n    if (!roleLabel || !editingRole) return;\n    try {\n      const token = localStorage.getItem('token');\n      const res = await fetch(`http://localhost:5000/api/roles/${editingRole._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            'Authorization': `Bearer ${token}`\n          } : {})\n        },\n        body: JSON.stringify({\n          label: roleLabel\n        })\n      });\n      if (res.ok) {\n        const result = await res.json();\n        const updatedRole = result.data;\n\n        // Update the role in the roles state\n        setRoles(prev => prev.map(role => role._id === editingRole._id ? updatedRole : role));\n\n        // Clear form and close modal\n        setNewRoleName('');\n        setEditingRole(null);\n        setShowEditRoleModal(false);\n\n        // Show enhanced success popup\n        showSuccessPopup(`Role \"${updatedRole.label}\" has been successfully updated!`);\n\n        // Also show the regular toast\n        setMessage(`Role updated successfully!`);\n        setMessageType('success');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n\n        // Notify other components\n        window.dispatchEvent(new CustomEvent('roleUpdated', {\n          detail: {\n            value: updatedRole.value,\n            label: updatedRole.label\n          }\n        }));\n      } else {\n        const error = await res.json().catch(() => ({}));\n        setMessage(error.message || 'Failed to update role');\n        setMessageType('error');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n      }\n    } catch (err) {\n      console.error('Error updating role:', err);\n      setMessage('Network error while updating role');\n      setMessageType('error');\n      setToastVisible(true);\n      setTimeout(() => setToastVisible(false), 4000);\n    }\n  };\n\n  // Handle Delete Role\n  const handleDeleteRole = async () => {\n    console.log('handleDeleteRole called with roleToDelete:', roleToDelete);\n    if (!roleToDelete) {\n      console.error('No role to delete');\n      return;\n    }\n\n    // Prevent deletion of system roles\n    const systemRoles = ['super_admin', 'admin', 'administrator'];\n    if (systemRoles.includes(roleToDelete.value)) {\n      setMessage(`Cannot delete system role \"${roleToDelete.label}\". System roles are protected.`);\n      setMessageType('error');\n      setToastVisible(true);\n      setTimeout(() => setToastVisible(false), 4000);\n      setShowDeleteConfirm(false);\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      console.log('Token exists:', !!token);\n      console.log('Attempting to delete role:', roleToDelete._id, roleToDelete.label);\n      const res = await fetch(`http://localhost:5000/api/roles/${roleToDelete._id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token ? {\n            'Authorization': `Bearer ${token}`\n          } : {})\n        }\n      });\n      console.log('Delete response status:', res.status, res.statusText);\n      if (res.ok) {\n        const responseData = await res.json();\n        console.log('Delete successful:', responseData);\n\n        // Remove the role from the roles state\n        setRoles(prev => {\n          const filteredRoles = prev.filter(role => role._id !== roleToDelete._id);\n          console.log('Updated roles list:', filteredRoles);\n          return filteredRoles;\n        });\n\n        // Clear state and close modal\n        setRoleToDelete(null);\n        setShowDeleteConfirm(false);\n\n        // Show enhanced success popup\n        showSuccessPopup(`Role \"${roleToDelete.label}\" has been successfully deleted from the system!`);\n\n        // Also show the regular toast for backup\n        setMessage(`Role \"${roleToDelete.label}\" deleted successfully!`);\n        setMessageType('success');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n\n        // Notify other components\n        window.dispatchEvent(new CustomEvent('roleDeleted', {\n          detail: {\n            value: roleToDelete.value,\n            label: roleToDelete.label\n          }\n        }));\n      } else {\n        const errorText = await res.text();\n        console.error('Delete failed with response:', errorText);\n        let error;\n        try {\n          error = JSON.parse(errorText);\n        } catch (e) {\n          error = {\n            message: errorText || 'Failed to delete role'\n          };\n        }\n        setMessage(error.message || 'Failed to delete role');\n        setMessageType('error');\n        setToastVisible(true);\n        setTimeout(() => setToastVisible(false), 4000);\n        setShowDeleteConfirm(false);\n      }\n    } catch (err) {\n      console.error('Error deleting role:', err);\n      setMessage('Network error while deleting role');\n      setMessageType('error');\n      setToastVisible(true);\n      setTimeout(() => setToastVisible(false), 4000);\n      setShowDeleteConfirm(false);\n    }\n  };\n\n  // Open edit modal\n  const openEditModal = role => {\n    setEditingRole(role);\n    setNewRoleName(role.label);\n    setShowEditRoleModal(true);\n  };\n\n  // Open delete confirmation\n  const openDeleteConfirm = role => {\n    console.log('Opening delete confirmation for role:', role);\n    setRoleToDelete(role);\n    setShowDeleteConfirm(true);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"role-access-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"role-access-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"geometric-background\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"geometric-shape shape-1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"geometric-shape shape-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"geometric-shape shape-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"geometric-shape shape-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header-custom\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header-content\",\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              width: '100%'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"header-text\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"page-title\",\n                style: {\n                  color: '#000000'\n                },\n                children: \"Role Management\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), hasRoleManageReadPermission() ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `btn-professional ${hasRoleManageCreatePermission() ? 'btn-primary' : 'btn-secondary'}`,\n              onClick: () => {\n                if (hasRoleManageCreatePermission()) {\n                  setShowAddRoleModal(true);\n                } else {\n                  setMessage('You do not have permission to create roles. Contact a Super Admin for \"rolesManage.create\" access.');\n                  setMessageType('error');\n                  setToastVisible(true);\n                  setTimeout(() => setToastVisible(false), 4000);\n                }\n              },\n              title: hasRoleManageCreatePermission() ? \"Add New Role\" : \"You need 'rolesManage.create' permission to add roles\",\n              style: {\n                padding: '10px 16px',\n                fontSize: '14px',\n                cursor: hasRoleManageCreatePermission() ? 'pointer' : 'not-allowed',\n                opacity: hasRoleManageCreatePermission() ? 1 : 0.6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: `bi ${hasRoleManageCreatePermission() ? 'bi-plus-circle' : 'bi-lock'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this), \"Add Role\", !hasRoleManageCreatePermission() && /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-exclamation-triangle ml-1\",\n                style: {\n                  fontSize: '12px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 56\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-info\",\n              style: {\n                margin: 0,\n                padding: '8px 12px',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-info-circle mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 19\n              }, this), \"You have limited access to role management.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body-custom\",\n          children: [toastVisible && message && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `toast-popup ${messageType === 'success' ? 'toast-success' : 'toast-error'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: `bi ${messageType === 'success' ? 'bi-check-circle' : 'bi-exclamation-circle'} mr-2`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this), message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), !hasRoleManageReadPermission() && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-lock-fill mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 17\n            }, this), \"You do not have permission to view role management. Contact a Super Admin for \\\"rolesManage.read\\\" access.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), \"            \", hasRoleManageReadPermission() && !hasRoleManageCreatePermission() && !hasRoleManageUpdatePermission() && !hasRoleManageDeletePermission() && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-eye mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this), \"You have read-only access to role management. Contact a Super Admin for additional permissions.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 15\n          }, this), hasRoleManageReadPermission() && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"professional-card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-responsive\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"professional-table\",\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Role Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Role Value\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 402,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Created Date\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Actions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 404,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 400,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: roles.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: /*#__PURE__*/_jsxDEV(\"td\", {\n                        colSpan: \"4\",\n                        className: \"text-center\",\n                        children: \"No roles found\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 410,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 23\n                    }, this) : roles.map(role => /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: role.label\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 417,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 417,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(\"code\", {\n                          children: role.value\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 418,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 418,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: new Date(role.createdAt || Date.now()).toLocaleDateString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: hasRoleManageReadPermission() ? /*#__PURE__*/_jsxDEV(\"div\", {\n                          style: {\n                            display: 'flex',\n                            gap: '8px'\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: `btn-professional ${hasRoleManageUpdatePermission() ? 'btn-secondary' : 'btn-secondary'}`,\n                            onClick: () => {\n                              if (hasRoleManageUpdatePermission()) {\n                                openEditModal(role);\n                              } else {\n                                setMessage('You do not have permission to edit roles. Contact a Super Admin for \"rolesManage.update\" access.');\n                                setMessageType('error');\n                                setToastVisible(true);\n                                setTimeout(() => setToastVisible(false), 4000);\n                              }\n                            },\n                            title: hasRoleManageUpdatePermission() ? \"Edit Role\" : \"You need 'rolesManage.update' permission to edit roles\",\n                            style: {\n                              padding: '6px 10px',\n                              fontSize: '12px',\n                              cursor: hasRoleManageUpdatePermission() ? 'pointer' : 'not-allowed',\n                              opacity: hasRoleManageUpdatePermission() ? 1 : 0.6\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                              className: `bi ${hasRoleManageUpdatePermission() ? 'bi-pencil' : 'bi-lock'}`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 443,\n                              columnNumber: 35\n                            }, this), \"Edit\", !hasRoleManageUpdatePermission() && /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"bi bi-exclamation-triangle ml-1\",\n                              style: {\n                                fontSize: '10px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 445,\n                              columnNumber: 72\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 423,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: `btn-professional ${hasRoleManageDeletePermission() ? 'btn-danger' : 'btn-secondary'}`,\n                            onClick: e => {\n                              e.preventDefault();\n                              e.stopPropagation();\n                              if (hasRoleManageDeletePermission()) {\n                                console.log('Delete button clicked for role:', role);\n                                openDeleteConfirm(role);\n                              } else {\n                                setMessage('You do not have permission to delete roles. Contact a Super Admin for \"rolesManage.delete\" access.');\n                                setMessageType('error');\n                                setToastVisible(true);\n                                setTimeout(() => setToastVisible(false), 4000);\n                              }\n                            },\n                            title: hasRoleManageDeletePermission() ? \"Delete Role\" : \"You need 'rolesManage.delete' permission to delete roles\",\n                            style: {\n                              padding: '6px 10px',\n                              fontSize: '12px',\n                              cursor: hasRoleManageDeletePermission() ? 'pointer' : 'not-allowed',\n                              opacity: hasRoleManageDeletePermission() ? 1 : 0.6\n                            },\n                            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                              className: `bi ${hasRoleManageDeletePermission() ? 'bi-trash' : 'bi-lock'}`\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 470,\n                              columnNumber: 35\n                            }, this), \"Delete\", !hasRoleManageDeletePermission() && /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"bi bi-exclamation-triangle ml-1\",\n                              style: {\n                                fontSize: '10px'\n                              }\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 472,\n                              columnNumber: 72\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 447,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 422,\n                          columnNumber: 31\n                        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-muted\",\n                          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"bi bi-lock mr-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 477,\n                            columnNumber: 33\n                          }, this), \"No access\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 476,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 420,\n                        columnNumber: 27\n                      }, this)]\n                    }, role._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 13\n            }, this)\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), showAddRoleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowAddRoleModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content professional-form\",\n        onClick: e => e.stopPropagation(),\n        style: {\n          maxWidth: '420px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            borderBottom: '2px solid var(--gray-200)',\n            paddingBottom: '12px',\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '20px',\n              fontWeight: '700',\n              color: 'var(--gray-900)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-plus-circle\",\n              style: {\n                color: 'var(--primary)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this), \"Add New Role\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close btn-professional btn-danger\",\n            onClick: () => setShowAddRoleModal(false),\n            style: {\n              padding: '6px 10px',\n              fontSize: '14px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAddRoleSubmit,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Role Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 515,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"roleName\",\n              className: \"form-input\",\n              value: newRoleName,\n              onChange: e => setNewRoleName(e.target.value),\n              placeholder: \"e.g., Regional Manager\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"Only a name is required. We'll create an internal value automatically.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 514,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            style: {\n              borderTop: '2px solid var(--gray-200)',\n              paddingTop: '12px',\n              marginTop: '12px',\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-professional btn-secondary\",\n              onClick: () => setShowAddRoleModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-professional btn-success\",\n              children: \"Add Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 9\n    }, this), showEditRoleModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowEditRoleModal(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content professional-form\",\n        onClick: e => e.stopPropagation(),\n        style: {\n          maxWidth: '420px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          style: {\n            borderBottom: '2px solid var(--gray-200)',\n            paddingBottom: '12px',\n            marginBottom: '16px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '20px',\n              fontWeight: '700',\n              color: 'var(--gray-900)',\n              display: 'flex',\n              alignItems: 'center',\n              gap: '8px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-pencil\",\n              style: {\n                color: 'var(--primary)'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 17\n            }, this), \"Edit Role\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-close btn-professional btn-danger\",\n            onClick: () => setShowEditRoleModal(false),\n            style: {\n              padding: '6px 10px',\n              fontSize: '14px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-x\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleEditRoleSubmit,\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Role Name *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"roleName\",\n              className: \"form-input\",\n              value: newRoleName,\n              onChange: e => setNewRoleName(e.target.value),\n              placeholder: \"e.g., Regional Manager\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"Update the role name. The internal value will remain the same.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            style: {\n              borderTop: '2px solid var(--gray-200)',\n              paddingTop: '12px',\n              marginTop: '12px',\n              display: 'flex',\n              gap: '12px',\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-professional btn-secondary\",\n              onClick: () => setShowEditRoleModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-professional btn-success\",\n              children: \"Update Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 9\n    }, this), showDeleteConfirm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setShowDeleteConfirm(false),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content confirm-modal\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Confirm Role Deletion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Are you sure you want to delete the role \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"\\\"\", roleToDelete === null || roleToDelete === void 0 ? void 0 : roleToDelete.label, \"\\\"\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 59\n            }, this), \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-warning\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-exclamation-triangle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 17\n            }, this), \"This action cannot be undone. Users with this role may lose access to certain features.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-professional btn-secondary\",\n            onClick: () => setShowDeleteConfirm(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-professional btn-danger\",\n            onClick: e => {\n              e.preventDefault();\n              console.log('Delete confirmation clicked, calling handleDeleteRole');\n              handleDeleteRole();\n            },\n            children: \"Yes, Delete Role\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 9\n    }, this), showSuccessModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      style: {\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        zIndex: 9999\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content success-modal-content\",\n        onClick: e => e.stopPropagation(),\n        style: {\n          maxWidth: '500px',\n          textAlign: 'center',\n          border: '3px solid #28a745',\n          borderRadius: '15px',\n          background: 'linear-gradient(135deg, #f8f9fa, #e9ecef)',\n          boxShadow: '0 10px 30px rgba(40, 167, 69, 0.3)',\n          animation: 'fadeInUp 0.3s ease-out'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '60px',\n              color: '#28a745',\n              marginBottom: '20px',\n              animation: 'bounce 1s ease-in-out'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-check-circle-fill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 656,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: '#28a745',\n              marginBottom: '15px',\n              fontWeight: 'bold'\n            },\n            children: \"Success!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: '16px',\n              color: '#495057',\n              marginBottom: '25px',\n              lineHeight: '1.5'\n            },\n            children: successMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 665,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-professional btn-success\",\n            onClick: () => setShowSuccessModal(false),\n            style: {\n              padding: '10px 30px',\n              fontSize: '16px',\n              fontWeight: 'bold'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-check2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 682,\n              columnNumber: 17\n            }, this), \" Awesome!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 673,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 640,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n};\n_s(RoleManagement, \"8P5ggISvNVYL46m37dWWb1odeyM=\");\n_c = RoleManagement;\nexport default RoleManagement;\nvar _c;\n$RefreshReg$(_c, \"RoleManagement\");","map":{"version":3,"names":["React","useState","useEffect","useContext","AuthContext","jsxDEV","_jsxDEV","Fragment","_Fragment","RoleManagement","_s","user","roles","setRoles","loading","setLoading","showAddRoleModal","setShowAddRoleModal","showEditRoleModal","setShowEditRoleModal","showDeleteConfirm","setShowDeleteConfirm","showSuccessModal","setShowSuccessModal","newRoleName","setNewRoleName","editingRole","setEditingRole","roleToDelete","setRoleToDelete","message","setMessage","messageType","setMessageType","toastVisible","setToastVisible","successMessage","setSuccessMessage","isSuperAdmin","role","hasRoleManageReadPermission","_user$permissions","_user$permissions$rol","permissions","rolesManage","read","hasRoleManageCreatePermission","_user$permissions2","_user$permissions2$ro","create","hasRoleManageUpdatePermission","_user$permissions3","_user$permissions3$ro","update","hasRoleManageDeletePermission","_user$permissions4","_user$permissions4$ro","delete","showSuccessPopup","setTimeout","fetchRoles","token","localStorage","getItem","response","fetch","headers","ok","data","json","console","log","error","status","handleAddRoleSubmit","e","preventDefault","roleLabel","trim","roleValue","toLowerCase","replace","res","method","body","JSON","stringify","value","label","result","prev","window","dispatchEvent","CustomEvent","detail","catch","err","handleEditRoleSubmit","_id","updatedRole","map","handleDeleteRole","systemRoles","includes","statusText","responseData","filteredRoles","filter","errorText","text","parse","openEditModal","openDeleteConfirm","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","alignItems","width","color","onClick","title","padding","fontSize","cursor","opacity","margin","length","colSpan","Date","createdAt","now","toLocaleDateString","gap","stopPropagation","maxWidth","borderBottom","paddingBottom","marginBottom","fontWeight","onSubmit","type","name","onChange","target","placeholder","required","borderTop","paddingTop","marginTop","backgroundColor","zIndex","textAlign","border","borderRadius","background","boxShadow","animation","lineHeight","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/Project/af2/TimeTracker_SLPA/frontend/src/components/dashboard/RoleManagement.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport './RoleAccessManagement.css';\r\n\r\nconst RoleManagement = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddRoleModal, setShowAddRoleModal] = useState(false);\r\n  const [showEditRoleModal, setShowEditRoleModal] = useState(false);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [showSuccessModal, setShowSuccessModal] = useState(false);\r\n  const [newRoleName, setNewRoleName] = useState('');\r\n  const [editingRole, setEditingRole] = useState(null);\r\n  const [roleToDelete, setRoleToDelete] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [messageType, setMessageType] = useState('');\r\n  const [toastVisible, setToastVisible] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n\r\n  const isSuperAdmin = user?.role === 'super_admin';\r\n\r\n  // Add permission check functions for rolesManage\r\n  const hasRoleManageReadPermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.read === true;\r\n  };\r\n\r\n  const hasRoleManageCreatePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.create === true;\r\n  };\r\n\r\n  const hasRoleManageUpdatePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.update === true;\r\n  };\r\n\r\n  const hasRoleManageDeletePermission = () => {\r\n    if (isSuperAdmin) return true;\r\n    return user?.permissions?.rolesManage?.delete === true;\r\n  };\r\n\r\n  // Show success modal with message\r\n  const showSuccessPopup = (message) => {\r\n    setSuccessMessage(message);\r\n    setShowSuccessModal(true);\r\n    // Auto close after 3 seconds\r\n    setTimeout(() => {\r\n      setShowSuccessModal(false);\r\n      setSuccessMessage('');\r\n    }, 3000);\r\n  };\r\n\r\n  // Fetch roles from backend\r\n  const fetchRoles = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/roles', {\r\n        headers: {\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        console.log('Fetched roles:', data.data);\r\n        setRoles(data.data || []);\r\n      } else {\r\n        console.error('Failed to fetch roles, status:', response.status);\r\n        setMessage('Failed to fetch roles');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching roles:', error);\r\n      setMessage('Error fetching roles');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n  }, []);\r\n\r\n  // Handle Add Role form submission\r\n  const handleAddRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    const roleValue = roleLabel.toLowerCase().replace(/\\s+/g, '_');\r\n    if (!roleValue) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch('http://localhost:5000/api/roles', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ value: roleValue, label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const role = result.data;\r\n        \r\n        // Add the new role to the roles state\r\n        setRoles(prev => [...prev, role]);\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setShowAddRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${role.label}\" has been successfully created!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role \"${role.label}\" created successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleAdded', { detail: { value: role.value, label: role.label } }));\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to create role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error creating role:', err);\r\n      setMessage('Network error while creating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Edit Role form submission\r\n  const handleEditRoleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const roleLabel = newRoleName.trim();\r\n    if (!roleLabel || !editingRole) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const res = await fetch(`http://localhost:5000/api/roles/${editingRole._id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        },\r\n        body: JSON.stringify({ label: roleLabel })\r\n      });\r\n\r\n      if (res.ok) {\r\n        const result = await res.json();\r\n        const updatedRole = result.data;\r\n        \r\n        // Update the role in the roles state\r\n        setRoles(prev => prev.map(role => \r\n          role._id === editingRole._id ? updatedRole : role\r\n        ));\r\n        \r\n        // Clear form and close modal\r\n        setNewRoleName('');\r\n        setEditingRole(null);\r\n        setShowEditRoleModal(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${updatedRole.label}\" has been successfully updated!`);\r\n        \r\n        // Also show the regular toast\r\n        setMessage(`Role updated successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleUpdated', { detail: { value: updatedRole.value, label: updatedRole.label } }));\r\n      } else {\r\n        const error = await res.json().catch(() => ({}));\r\n        setMessage(error.message || 'Failed to update role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error updating role:', err);\r\n      setMessage('Network error while updating role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n    }\r\n  };\r\n\r\n  // Handle Delete Role\r\n  const handleDeleteRole = async () => {\r\n    console.log('handleDeleteRole called with roleToDelete:', roleToDelete);\r\n    \r\n    if (!roleToDelete) {\r\n      console.error('No role to delete');\r\n      return;\r\n    }\r\n\r\n    // Prevent deletion of system roles\r\n    const systemRoles = ['super_admin', 'admin', 'administrator'];\r\n    if (systemRoles.includes(roleToDelete.value)) {\r\n      setMessage(`Cannot delete system role \"${roleToDelete.label}\". System roles are protected.`);\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n      setShowDeleteConfirm(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      console.log('Token exists:', !!token);\r\n      console.log('Attempting to delete role:', roleToDelete._id, roleToDelete.label);\r\n      \r\n      const res = await fetch(`http://localhost:5000/api/roles/${roleToDelete._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { 'Authorization': `Bearer ${token}` } : {})\r\n        }\r\n      });\r\n\r\n      console.log('Delete response status:', res.status, res.statusText);\r\n\r\n      if (res.ok) {\r\n        const responseData = await res.json();\r\n        console.log('Delete successful:', responseData);\r\n        \r\n        // Remove the role from the roles state\r\n        setRoles(prev => {\r\n          const filteredRoles = prev.filter(role => role._id !== roleToDelete._id);\r\n          console.log('Updated roles list:', filteredRoles);\r\n          return filteredRoles;\r\n        });\r\n        \r\n        // Clear state and close modal\r\n        setRoleToDelete(null);\r\n        setShowDeleteConfirm(false);\r\n        \r\n        // Show enhanced success popup\r\n        showSuccessPopup(`Role \"${roleToDelete.label}\" has been successfully deleted from the system!`);\r\n        \r\n        // Also show the regular toast for backup\r\n        setMessage(`Role \"${roleToDelete.label}\" deleted successfully!`);\r\n        setMessageType('success');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        \r\n        // Notify other components\r\n        window.dispatchEvent(new CustomEvent('roleDeleted', { detail: { value: roleToDelete.value, label: roleToDelete.label } }));\r\n      } else {\r\n        const errorText = await res.text();\r\n        console.error('Delete failed with response:', errorText);\r\n        \r\n        let error;\r\n        try {\r\n          error = JSON.parse(errorText);\r\n        } catch (e) {\r\n          error = { message: errorText || 'Failed to delete role' };\r\n        }\r\n        \r\n        setMessage(error.message || 'Failed to delete role');\r\n        setMessageType('error');\r\n        setToastVisible(true);\r\n        setTimeout(() => setToastVisible(false), 4000);\r\n        setShowDeleteConfirm(false);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error deleting role:', err);\r\n      setMessage('Network error while deleting role');\r\n      setMessageType('error');\r\n      setToastVisible(true);\r\n      setTimeout(() => setToastVisible(false), 4000);\r\n      setShowDeleteConfirm(false);\r\n    }\r\n  };\r\n\r\n  // Open edit modal\r\n  const openEditModal = (role) => {\r\n    setEditingRole(role);\r\n    setNewRoleName(role.label);\r\n    setShowEditRoleModal(true);\r\n  };\r\n\r\n  // Open delete confirmation\r\n  const openDeleteConfirm = (role) => {\r\n    console.log('Opening delete confirmation for role:', role);\r\n    setRoleToDelete(role);\r\n    setShowDeleteConfirm(true);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"role-access-wrapper\">\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"loading-spinner\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"role-access-wrapper\">\r\n      {/* Background shapes */}\r\n      <div className=\"geometric-background\">\r\n        <div className=\"geometric-shape shape-1\"></div>\r\n        <div className=\"geometric-shape shape-2\"></div>\r\n        <div className=\"geometric-shape shape-3\"></div>\r\n        <div className=\"geometric-shape shape-4\"></div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid px-4\">\r\n        <div className=\"main-card\">\r\n          <div className=\"card-header-custom\">\r\n            <div className=\"header-content\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', width: '100%' }}>\r\n              <div className=\"header-text\">\r\n                <h1 className=\"page-title\" style={{ color: '#000000' }}>Role Management</h1>\r\n              </div>\r\n              \r\n              {hasRoleManageReadPermission() ? (\r\n                <button\r\n                  className={`btn-professional ${hasRoleManageCreatePermission() ? 'btn-primary' : 'btn-secondary'}`}\r\n                  onClick={() => {\r\n                    if (hasRoleManageCreatePermission()) {\r\n                      setShowAddRoleModal(true);\r\n                    } else {\r\n                      setMessage('You do not have permission to create roles. Contact a Super Admin for \"rolesManage.create\" access.');\r\n                      setMessageType('error');\r\n                      setToastVisible(true);\r\n                      setTimeout(() => setToastVisible(false), 4000);\r\n                    }\r\n                  }}\r\n                  title={hasRoleManageCreatePermission() ? \"Add New Role\" : \"You need 'rolesManage.create' permission to add roles\"}\r\n                  style={{ \r\n                    padding: '10px 16px', \r\n                    fontSize: '14px',\r\n                    cursor: hasRoleManageCreatePermission() ? 'pointer' : 'not-allowed',\r\n                    opacity: hasRoleManageCreatePermission() ? 1 : 0.6\r\n                  }}\r\n                >\r\n                  <i className={`bi ${hasRoleManageCreatePermission() ? 'bi-plus-circle' : 'bi-lock'}`}></i> \r\n                  Add Role\r\n                  {!hasRoleManageCreatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '12px'}}></i>}\r\n                </button>\r\n              ) : (\r\n                <div className=\"alert alert-info\" style={{ margin: 0, padding: '8px 12px', fontSize: '14px' }}>\r\n                  <i className=\"bi bi-info-circle mr-2\"></i>\r\n                  You have limited access to role management.\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"card-body-custom\">\r\n            {/* Toast popup */}\r\n            {toastVisible && message && (\r\n              <div className={`toast-popup ${messageType === 'success' ? 'toast-success' : 'toast-error'}`}>\r\n                <i className={`bi ${messageType === 'success' ? 'bi-check-circle' : 'bi-exclamation-circle'} mr-2`}></i>\r\n                {message}\r\n              </div>\r\n            )}\r\n\r\n            {/* Access Control Messages */}\r\n            {!hasRoleManageReadPermission() && (\r\n              <div className=\"alert alert-warning\">\r\n                <i className=\"bi bi-lock-fill mr-2\"></i>\r\n                You do not have permission to view role management. Contact a Super Admin for \"rolesManage.read\" access.\r\n              </div>\r\n            )}            {hasRoleManageReadPermission() && !hasRoleManageCreatePermission() && !hasRoleManageUpdatePermission() && !hasRoleManageDeletePermission() && (\r\n              <div className=\"alert alert-info\">\r\n                <i className=\"bi bi-eye mr-2\"></i>\r\n                You have read-only access to role management. Contact a Super Admin for additional permissions.\r\n              </div>\r\n            )}\r\n\r\n            {/* Show content only if user has read access */}\r\n            {hasRoleManageReadPermission() && (\r\n              <>\r\n                {/* Roles Table */}\r\n            <div className=\"professional-card\">\r\n              <div className=\"table-responsive\">\r\n                <table className=\"professional-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Role Name</th>\r\n                      <th>Role Value</th>\r\n                      <th>Created Date</th>\r\n                      <th>Actions</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {roles.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"4\" className=\"text-center\">\r\n                          No roles found\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      roles.map(role => (\r\n                        <tr key={role._id}>\r\n                          <td><strong>{role.label}</strong></td>\r\n                          <td><code>{role.value}</code></td>\r\n                          <td>{new Date(role.createdAt || Date.now()).toLocaleDateString()}</td>\r\n                          <td>\r\n                            {hasRoleManageReadPermission() ? (\r\n                              <div style={{ display: 'flex', gap: '8px' }}>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageUpdatePermission() ? 'btn-secondary' : 'btn-secondary'}`}\r\n                                  onClick={() => {\r\n                                    if (hasRoleManageUpdatePermission()) {\r\n                                      openEditModal(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to edit roles. Contact a Super Admin for \"rolesManage.update\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageUpdatePermission() ? \"Edit Role\" : \"You need 'rolesManage.update' permission to edit roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageUpdatePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageUpdatePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageUpdatePermission() ? 'bi-pencil' : 'bi-lock'}`}></i> \r\n                                  Edit\r\n                                  {!hasRoleManageUpdatePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                                <button\r\n                                  className={`btn-professional ${hasRoleManageDeletePermission() ? 'btn-danger' : 'btn-secondary'}`}\r\n                                  onClick={(e) => {\r\n                                    e.preventDefault();\r\n                                    e.stopPropagation();\r\n                                    if (hasRoleManageDeletePermission()) {\r\n                                      console.log('Delete button clicked for role:', role);\r\n                                      openDeleteConfirm(role);\r\n                                    } else {\r\n                                      setMessage('You do not have permission to delete roles. Contact a Super Admin for \"rolesManage.delete\" access.');\r\n                                      setMessageType('error');\r\n                                      setToastVisible(true);\r\n                                      setTimeout(() => setToastVisible(false), 4000);\r\n                                    }\r\n                                  }}\r\n                                  title={hasRoleManageDeletePermission() ? \"Delete Role\" : \"You need 'rolesManage.delete' permission to delete roles\"}\r\n                                  style={{ \r\n                                    padding: '6px 10px', \r\n                                    fontSize: '12px',\r\n                                    cursor: hasRoleManageDeletePermission() ? 'pointer' : 'not-allowed',\r\n                                    opacity: hasRoleManageDeletePermission() ? 1 : 0.6\r\n                                  }}\r\n                                >\r\n                                  <i className={`bi ${hasRoleManageDeletePermission() ? 'bi-trash' : 'bi-lock'}`}></i> \r\n                                  Delete\r\n                                  {!hasRoleManageDeletePermission() && <i className=\"bi bi-exclamation-triangle ml-1\" style={{fontSize: '10px'}}></i>}\r\n                                </button>\r\n                              </div>\r\n                            ) : (\r\n                              <span className=\"text-muted\">\r\n                                <i className=\"bi bi-lock mr-1\"></i>\r\n                                No access\r\n                              </span>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Add Role Modal */}\r\n      {showAddRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowAddRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-plus-circle\" style={{ color: 'var(--primary)' }}></i>\r\n                Add New Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowAddRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleAddRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Only a name is required. We'll create an internal value automatically.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowAddRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Add Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Edit Role Modal */}\r\n      {showEditRoleModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowEditRoleModal(false)}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()} style={{ maxWidth: '420px' }}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '12px', marginBottom: '16px' }}>\r\n              <h3 style={{ fontSize: '20px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <i className=\"bi bi-pencil\" style={{ color: 'var(--primary)' }}></i>\r\n                Edit Role\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={() => setShowEditRoleModal(false)}\r\n                style={{ padding: '6px 10px', fontSize: '14px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n\r\n            <form onSubmit={handleEditRoleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Role Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"roleName\"\r\n                  className=\"form-input\"\r\n                  value={newRoleName}\r\n                  onChange={(e) => setNewRoleName(e.target.value)}\r\n                  placeholder=\"e.g., Regional Manager\"\r\n                  required\r\n                />\r\n                <small className=\"text-muted\">Update the role name. The internal value will remain the same.</small>\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '12px', marginTop: '12px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={() => setShowEditRoleModal(false)}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                >\r\n                  Update Role\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Delete Confirmation Modal */}\r\n      {showDeleteConfirm && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowDeleteConfirm(false)}>\r\n          <div className=\"modal-content confirm-modal\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h4>Confirm Role Deletion</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <p>Are you sure you want to delete the role <strong>\"{roleToDelete?.label}\"</strong>?</p>\r\n              <p className=\"text-warning\">\r\n                <i className=\"bi bi-exclamation-triangle\"></i>\r\n                This action cannot be undone. Users with this role may lose access to certain features.\r\n              </p>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button \r\n                className=\"btn-professional btn-secondary\" \r\n                onClick={() => setShowDeleteConfirm(false)}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                className=\"btn-professional btn-danger\" \r\n                onClick={(e) => {\r\n                  e.preventDefault();\r\n                  console.log('Delete confirmation clicked, calling handleDeleteRole');\r\n                  handleDeleteRole();\r\n                }}\r\n              >\r\n                Yes, Delete Role\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Modal */}\r\n      {showSuccessModal && (\r\n        <div className=\"modal-overlay\" style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)', zIndex: 9999 }}>\r\n          <div className=\"modal-content success-modal-content\" onClick={(e) => e.stopPropagation()} style={{ \r\n            maxWidth: '500px', \r\n            textAlign: 'center',\r\n            border: '3px solid #28a745',\r\n            borderRadius: '15px',\r\n            background: 'linear-gradient(135deg, #f8f9fa, #e9ecef)',\r\n            boxShadow: '0 10px 30px rgba(40, 167, 69, 0.3)',\r\n            animation: 'fadeInUp 0.3s ease-out'\r\n          }}>\r\n            <div style={{ padding: '30px' }}>\r\n              <div style={{ \r\n                fontSize: '60px', \r\n                color: '#28a745', \r\n                marginBottom: '20px',\r\n                animation: 'bounce 1s ease-in-out'\r\n              }}>\r\n                <i className=\"bi bi-check-circle-fill\"></i>\r\n              </div>\r\n              <h2 style={{ \r\n                color: '#28a745', \r\n                marginBottom: '15px',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                Success!\r\n              </h2>\r\n              <p style={{ \r\n                fontSize: '16px', \r\n                color: '#495057',\r\n                marginBottom: '25px',\r\n                lineHeight: '1.5'\r\n              }}>\r\n                {successMessage}\r\n              </p>\r\n              <button \r\n                className=\"btn-professional btn-success\"\r\n                onClick={() => setShowSuccessModal(false)}\r\n                style={{ \r\n                  padding: '10px 30px',\r\n                  fontSize: '16px',\r\n                  fontWeight: 'bold'\r\n                }}\r\n              >\r\n                <i className=\"bi bi-check2\"></i> Awesome!\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}