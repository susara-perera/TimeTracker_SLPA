{"ast":null,"code":"import React,{useState,useEffect}from'react';import usePermission from'../../hooks/usePermission';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SectionManagement=()=>{const[sections,setSections]=useState([]);const[divisions,setDivisions]=useState([]);const[loading,setLoading]=useState(true);const[showAddModal,setShowAddModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[currentSection,setCurrentSection]=useState(null);const[formData,setFormData]=useState({name:'',division:''});const[formErrors,setFormErrors]=useState({});const[submitting,setSubmitting]=useState(false);const canView=usePermission('sections','read');const canCreate=usePermission('sections','create');const canUpdate=usePermission('sections','update');const canDelete=usePermission('sections','delete');// Fetch sections and divisions\nconst fetchData=async()=>{try{const token=localStorage.getItem('token');if(!token){console.error('No authentication token found');setLoading(false);return;}// Fetch sections from API\ntry{console.log('Fetching sections from API...');const sectionsResponse=await fetch('http://localhost:5000/api/sections?limit=100',{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},credentials:'include'});if(sectionsResponse.ok){const sectionsData=await sectionsResponse.json();console.log('Sections API Response:',sectionsData);console.log('Sections count:',sectionsData.data?sectionsData.data.length:0);setSections(sectionsData.data||[]);}else{console.error('Failed to fetch sections:',sectionsResponse.status,sectionsResponse.statusText);const errorText=await sectionsResponse.text();console.error('Error details:',errorText);setSections([]);}}catch(sectionsError){console.error('Error fetching sections:',sectionsError);setSections([]);}// Fetch divisions from API\ntry{const token=localStorage.getItem('token');if(!token){console.error('No authentication token found');// Use fallback data if no token\nsetDivisions([{_id:'689443a4c8066bb7f0b32a44',name:'Information Technology',code:'IT'},{_id:'1',name:'Administration',code:'ADM'},{_id:'2',name:'Operations',code:'OPS'},{_id:'3',name:'Finance',code:'FIN'},{_id:'4',name:'Engineering',code:'ENG'},{_id:'5',name:'Human Resources',code:'HR'},{_id:'6',name:'Security',code:'SEC'},{_id:'7',name:'Marine Services',code:'MAR'}]);setLoading(false);return;}console.log('Fetching divisions from API...');const response=await fetch('http://localhost:5000/api/divisions?limit=100',{headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},credentials:'include'});if(response.ok){const data=await response.json();console.log('Divisions API Response:',data);console.log('Divisions count:',data.data?data.data.length:0);setDivisions(data.data||[]);}else{console.error('Failed to fetch divisions:',response.status,response.statusText);const errorText=await response.text();console.error('Error details:',errorText);// Fallback to mock data if API fails\nsetDivisions([{_id:'689443a4c8066bb7f0b32a44',name:'Information Technology',code:'IT'},{_id:'1',name:'Administration',code:'ADM'},{_id:'2',name:'Operations',code:'OPS'},{_id:'3',name:'Finance',code:'FIN'},{_id:'4',name:'Engineering',code:'ENG'},{_id:'5',name:'Human Resources',code:'HR'},{_id:'6',name:'Security',code:'SEC'},{_id:'7',name:'Marine Services',code:'MAR'}]);}}catch(divisionError){console.error('Error fetching divisions:',divisionError);// Use mock data as fallback\nsetDivisions([{_id:'689443a4c8066bb7f0b32a44',name:'Information Technology',code:'IT'},{_id:'1',name:'Administration',code:'ADM'},{_id:'2',name:'Operations',code:'OPS'},{_id:'3',name:'Finance',code:'FIN'},{_id:'4',name:'Engineering',code:'ENG'},{_id:'5',name:'Human Resources',code:'HR'},{_id:'6',name:'Security',code:'SEC'},{_id:'7',name:'Marine Services',code:'MAR'}]);}setLoading(false);}catch(error){console.error('Error fetching data:',error);setLoading(false);}};// Helper function to get division name by ID\nconst getDivisionName=divisionId=>{// If divisionId is an object (populated), return its name directly\nif(typeof divisionId==='object'&&divisionId!==null&&divisionId!==void 0&&divisionId.name){return divisionId.name;}// Otherwise, find division by ID\nconst division=divisions.find(div=>(div._id||div.id)===divisionId);return division?division.name:'N/A';};// Handle form input changes\nconst handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Clear error for this field\nif(formErrors[name]){setFormErrors(prev=>({...prev,[name]:''}));}};// Validate form\nconst validateForm=()=>{const errors={};if(!formData.name.trim()){errors.name='Section name is required';}if(!formData.division){errors.division='Division is required';}console.log('Form validation:',{formData,errors,divisionsCount:divisions.length});return errors;};// Handle form submission\nconst handleSubmit=async e=>{e.preventDefault();// Front-end permission safeguard\nif(!canCreate&&!canUpdate){alert('You do not have permission to perform this action.');return;}const errors=validateForm();if(Object.keys(errors).length>0){setFormErrors(errors);return;}setSubmitting(true);try{const token=localStorage.getItem('token');if(!token){alert('Authentication token not found. Please log in again.');setSubmitting(false);return;}// Prepare the data\nconst submitData={name:formData.name.trim(),division:formData.division,code:formData.name.trim().toUpperCase().replace(/[^A-Z0-9]/g,'_').slice(0,10),// Generate valid code from name\nstatus:'active'};console.log('Submitting section data:',submitData);console.log('Token available:',!!token);console.log('Request URL:',currentSection?`http://localhost:5000/api/sections/${currentSection._id}`:'http://localhost:5000/api/sections');if(currentSection){// Update existing section\nconst response=await fetch(`http://localhost:5000/api/sections/${currentSection._id}`,{method:'PUT',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(submitData)});console.log('Update response status:',response.status);console.log('Update response headers:',Object.fromEntries(response.headers.entries()));if(response.ok){const updatedSection=await response.json();console.log('Section updated:',updatedSection);// Refresh data to get updated information\nawait fetchData();alert('Section updated successfully!');}else{let errorMessage='Unknown error';try{const errorData=await response.json();console.error('Failed to update section:',response.status,errorData);if(errorData.errors&&Array.isArray(errorData.errors)){errorMessage=errorData.errors.map(err=>err.message).join(', ');}else if(errorData.error){errorMessage=errorData.error;}else if(errorData.message){errorMessage=errorData.message;}}catch(jsonError){console.error('Error parsing response:',jsonError);errorMessage=`HTTP ${response.status}: ${response.statusText}`;}alert(`Failed to update section: ${errorMessage}`);}}else{// Add new section\nconst response=await fetch('http://localhost:5000/api/sections',{method:'POST',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},credentials:'include',body:JSON.stringify(submitData)});console.log('Create response status:',response.status);console.log('Create response headers:',Object.fromEntries(response.headers.entries()));if(response.ok){const newSection=await response.json();console.log('Section created:',newSection);// Refresh data to get updated information\nawait fetchData();alert('Section created successfully!');}else{let errorMessage='Unknown error';try{const errorData=await response.json();console.error('Failed to create section:',response.status,errorData);if(errorData.errors&&Array.isArray(errorData.errors)){errorMessage=errorData.errors.map(err=>err.message).join(', ');}else if(errorData.error){errorMessage=errorData.error;}else if(errorData.message){errorMessage=errorData.message;}}catch(jsonError){console.error('Error parsing response:',jsonError);errorMessage=`HTTP ${response.status}: ${response.statusText}`;}alert(`Failed to create section: ${errorMessage}`);}}handleCloseModal();}catch(error){console.error('Error submitting section:',error);alert(`Error ${currentSection?'updating':'adding'} section. Please try again.`);}finally{setSubmitting(false);}};// Handle opening edit modal\nconst handleEdit=section=>{var _section$division;console.log('Editing section:',section);setCurrentSection(section);setFormData({name:section.name||'',division:((_section$division=section.division)===null||_section$division===void 0?void 0:_section$division._id)||section.division||''});setFormErrors({});setShowEditModal(true);};// Handle delete section\nconst handleDelete=async section=>{if(window.confirm(`Are you sure you want to delete \"${section.name}\" section? This action cannot be undone.`)){try{const token=localStorage.getItem('token');if(!token){alert('Authentication token not found. Please log in again.');return;}const response=await fetch(`http://localhost:5000/api/sections/${section._id}`,{method:'DELETE',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},credentials:'include'});if(response.ok){console.log('Section deleted:',section._id);// Refresh data to get updated information\nawait fetchData();alert('Section deleted successfully!');}else{let errorMessage='Unknown error';try{const errorData=await response.json();console.error('Failed to delete section:',response.status,errorData);if(errorData.errors&&Array.isArray(errorData.errors)){errorMessage=errorData.errors.map(err=>err.message).join(', ');}else if(errorData.error){errorMessage=errorData.error;}else if(errorData.message){errorMessage=errorData.message;}}catch(jsonError){console.error('Error parsing response:',jsonError);errorMessage=`HTTP ${response.status}: ${response.statusText}`;}alert(`Failed to delete section: ${errorMessage}`);}}catch(error){console.error('Error deleting section:',error);alert('Error deleting section. Please try again.');}}};// Handle opening add modal\nconst handleAdd=()=>{setCurrentSection(null);setFormData({name:'',division:''});setFormErrors({});setShowAddModal(true);};// Handle closing modals\nconst handleCloseModal=()=>{setShowAddModal(false);setShowEditModal(false);setCurrentSection(null);setFormData({name:'',division:''});setFormErrors({});};useEffect(()=>{fetchData();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}if(!canView){return/*#__PURE__*/_jsxs(\"div\",{className:\"section-management\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-diagram-3\"}),\" Section Management\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"professional-card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"You do not have permission to view sections. Contact a Super Admin for access.\"})})})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"section-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-diagram-3\"}),\" Section Management\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-professional btn-primary\",onClick:canCreate?handleAdd:undefined,disabled:!canCreate,title:!canCreate?'You do not have permission to add sections':'Add Section',style:{cursor:canCreate?'pointer':'not-allowed'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-plus-circle\"}),\" Add Section\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"professional-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"professional-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Section Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Division\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sections.map(section=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:section.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"role-badge role-admin\",children:getDivisionName(section.division)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`status-badge ${section.status==='active'||section.isActive?'status-active':'status-inactive'}`,children:section.status==='active'||section.isActive?'Active':'Inactive'})}),/*#__PURE__*/_jsx(\"td\",{children:section.createdAt?new Date(section.createdAt).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-professional btn-primary\",onClick:canUpdate?()=>handleEdit(section):undefined,title:!canUpdate?'No permission to edit sections':'Edit Section',disabled:!canUpdate,style:{padding:'8px 12px',fontSize:'12px',cursor:canUpdate?'pointer':'not-allowed'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-professional btn-danger\",onClick:canDelete?()=>handleDelete(section):undefined,title:!canDelete?'No permission to delete sections':'Delete Section',disabled:!canDelete,style:{padding:'8px 12px',fontSize:'12px',cursor:canDelete?'pointer':'not-allowed'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})]})})]},section._id))})]})}),sections.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-data\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No sections found. Click \\\"Add Section\\\" to create the first section.\"})})]}),(showAddModal||showEditModal)&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content professional-form\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",style:{borderBottom:'2px solid var(--gray-200)',paddingBottom:'20px',marginBottom:'24px'},children:[/*#__PURE__*/_jsxs(\"h3\",{style:{fontSize:'24px',fontWeight:'700',color:'var(--gray-900)',display:'flex',alignItems:'center',gap:'12px'},children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${currentSection?\"bi-pencil-square\":\"bi-plus-circle\"}`,style:{color:'var(--primary)'}}),currentSection?'Edit Section':'Add New Section']}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close btn-professional btn-danger\",onClick:handleCloseModal,style:{padding:'8px 12px',fontSize:'16px'},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x\"})})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Section Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:`form-input ${formErrors.name?'error':''}`,value:formData.name,onChange:handleInputChange,placeholder:\"Enter section name\",required:true}),formErrors.name&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:formErrors.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Division *\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"division\",className:`form-select ${formErrors.division?'error':''}`,value:formData.division,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Division\"}),divisions.map(division=>/*#__PURE__*/_jsxs(\"option\",{value:division._id,children:[division.name,\" (\",division.code,\")\"]},division._id))]}),formErrors.division&&/*#__PURE__*/_jsx(\"span\",{className:\"error-text\",children:formErrors.division})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",style:{borderTop:'2px solid var(--gray-200)',paddingTop:'20px',marginTop:'24px',display:'flex',gap:'12px',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-professional btn-secondary\",onClick:handleCloseModal,disabled:submitting,style:{background:'var(--gray-500)'},children:\"Cancel\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn-professional btn-success\",disabled:submitting||!canCreate&&!canUpdate,\"aria-disabled\":submitting||!canCreate&&!canUpdate,title:!canCreate&&!canUpdate?'You do not have permission to perform this action':'',children:[/*#__PURE__*/_jsx(\"i\",{className:`bi ${currentSection?\"bi-check-circle\":\"bi-plus-circle\"}`}),submitting?currentSection?'Updating...':'Adding...':currentSection?'Update Section':'Add Section']})]})]})]})})]});};export default SectionManagement;","map":{"version":3,"names":["React","useState","useEffect","usePermission","jsx","_jsx","jsxs","_jsxs","SectionManagement","sections","setSections","divisions","setDivisions","loading","setLoading","showAddModal","setShowAddModal","showEditModal","setShowEditModal","currentSection","setCurrentSection","formData","setFormData","name","division","formErrors","setFormErrors","submitting","setSubmitting","canView","canCreate","canUpdate","canDelete","fetchData","token","localStorage","getItem","console","error","log","sectionsResponse","fetch","headers","credentials","ok","sectionsData","json","data","length","status","statusText","errorText","text","sectionsError","_id","code","response","divisionError","getDivisionName","divisionId","find","div","id","handleInputChange","e","value","target","prev","validateForm","errors","trim","divisionsCount","handleSubmit","preventDefault","alert","Object","keys","submitData","toUpperCase","replace","slice","method","body","JSON","stringify","fromEntries","entries","updatedSection","errorMessage","errorData","Array","isArray","map","err","message","join","jsonError","newSection","handleCloseModal","handleEdit","section","_section$division","handleDelete","window","confirm","handleAdd","className","children","role","onClick","undefined","disabled","title","style","cursor","isActive","createdAt","Date","toLocaleDateString","display","gap","padding","fontSize","stopPropagation","borderBottom","paddingBottom","marginBottom","fontWeight","color","alignItems","onSubmit","type","onChange","placeholder","required","borderTop","paddingTop","marginTop","justifyContent","background"],"sources":["C:/Users/User/Documents/Project/af2/TimeTracker_SLPA/frontend/src/components/dashboard/SectionManagement.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport usePermission from '../../hooks/usePermission';\r\n\r\nconst SectionManagement = () => {\r\n  const [sections, setSections] = useState([]);\r\n  const [divisions, setDivisions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [currentSection, setCurrentSection] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    division: ''\r\n  });\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const canView = usePermission('sections', 'read');\r\n  const canCreate = usePermission('sections', 'create');\r\n  const canUpdate = usePermission('sections', 'update');\r\n  const canDelete = usePermission('sections', 'delete');\r\n\r\n  // Fetch sections and divisions\r\n  const fetchData = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        console.error('No authentication token found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Fetch sections from API\r\n      try {\r\n        console.log('Fetching sections from API...');\r\n        const sectionsResponse = await fetch('http://localhost:5000/api/sections?limit=100', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        });\r\n        \r\n        if (sectionsResponse.ok) {\r\n          const sectionsData = await sectionsResponse.json();\r\n          console.log('Sections API Response:', sectionsData);\r\n          console.log('Sections count:', sectionsData.data ? sectionsData.data.length : 0);\r\n          setSections(sectionsData.data || []);\r\n        } else {\r\n          console.error('Failed to fetch sections:', sectionsResponse.status, sectionsResponse.statusText);\r\n          const errorText = await sectionsResponse.text();\r\n          console.error('Error details:', errorText);\r\n          setSections([]);\r\n        }\r\n      } catch (sectionsError) {\r\n        console.error('Error fetching sections:', sectionsError);\r\n        setSections([]);\r\n      }\r\n\r\n      // Fetch divisions from API\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        \r\n        if (!token) {\r\n          console.error('No authentication token found');\r\n          // Use fallback data if no token\r\n          setDivisions([\r\n            { _id: '689443a4c8066bb7f0b32a44', name: 'Information Technology', code: 'IT' },\r\n            { _id: '1', name: 'Administration', code: 'ADM' },\r\n            { _id: '2', name: 'Operations', code: 'OPS' },\r\n            { _id: '3', name: 'Finance', code: 'FIN' },\r\n            { _id: '4', name: 'Engineering', code: 'ENG' },\r\n            { _id: '5', name: 'Human Resources', code: 'HR' },\r\n            { _id: '6', name: 'Security', code: 'SEC' },\r\n            { _id: '7', name: 'Marine Services', code: 'MAR' }\r\n          ]);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        console.log('Fetching divisions from API...');\r\n        const response = await fetch('http://localhost:5000/api/divisions?limit=100', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        });\r\n        \r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          console.log('Divisions API Response:', data);\r\n          console.log('Divisions count:', data.data ? data.data.length : 0);\r\n          setDivisions(data.data || []);\r\n        } else {\r\n          console.error('Failed to fetch divisions:', response.status, response.statusText);\r\n          const errorText = await response.text();\r\n          console.error('Error details:', errorText);\r\n          \r\n          // Fallback to mock data if API fails\r\n          setDivisions([\r\n            { _id: '689443a4c8066bb7f0b32a44', name: 'Information Technology', code: 'IT' },\r\n            { _id: '1', name: 'Administration', code: 'ADM' },\r\n            { _id: '2', name: 'Operations', code: 'OPS' },\r\n            { _id: '3', name: 'Finance', code: 'FIN' },\r\n            { _id: '4', name: 'Engineering', code: 'ENG' },\r\n            { _id: '5', name: 'Human Resources', code: 'HR' },\r\n            { _id: '6', name: 'Security', code: 'SEC' },\r\n            { _id: '7', name: 'Marine Services', code: 'MAR' }\r\n          ]);\r\n        }\r\n      } catch (divisionError) {\r\n        console.error('Error fetching divisions:', divisionError);\r\n        // Use mock data as fallback\r\n        setDivisions([\r\n          { _id: '689443a4c8066bb7f0b32a44', name: 'Information Technology', code: 'IT' },\r\n          { _id: '1', name: 'Administration', code: 'ADM' },\r\n          { _id: '2', name: 'Operations', code: 'OPS' },\r\n          { _id: '3', name: 'Finance', code: 'FIN' },\r\n          { _id: '4', name: 'Engineering', code: 'ENG' },\r\n          { _id: '5', name: 'Human Resources', code: 'HR' },\r\n          { _id: '6', name: 'Security', code: 'SEC' },\r\n          { _id: '7', name: 'Marine Services', code: 'MAR' }\r\n        ]);\r\n      }\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Helper function to get division name by ID\r\n  const getDivisionName = (divisionId) => {\r\n    // If divisionId is an object (populated), return its name directly\r\n    if (typeof divisionId === 'object' && divisionId?.name) {\r\n      return divisionId.name;\r\n    }\r\n    \r\n    // Otherwise, find division by ID\r\n    const division = divisions.find(div => (div._id || div.id) === divisionId);\r\n    return division ? division.name : 'N/A';\r\n  };\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    \r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear error for this field\r\n    if (formErrors[name]) {\r\n      setFormErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Validate form\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!formData.name.trim()) {\r\n      errors.name = 'Section name is required';\r\n    }\r\n    \r\n    if (!formData.division) {\r\n      errors.division = 'Division is required';\r\n    }\r\n    \r\n    console.log('Form validation:', { formData, errors, divisionsCount: divisions.length });\r\n    \r\n    return errors;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    // Front-end permission safeguard\r\n    if (!canCreate && !canUpdate) {\r\n      alert('You do not have permission to perform this action.');\r\n      return;\r\n    }\r\n\r\n    const errors = validateForm();\r\n    \r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      \r\n      if (!token) {\r\n        alert('Authentication token not found. Please log in again.');\r\n        setSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // Prepare the data\r\n      const submitData = {\r\n        name: formData.name.trim(),\r\n        division: formData.division,\r\n        code: formData.name.trim().toUpperCase().replace(/[^A-Z0-9]/g, '_').slice(0, 10), // Generate valid code from name\r\n        status: 'active'\r\n      };\r\n\r\n      console.log('Submitting section data:', submitData);\r\n      console.log('Token available:', !!token);\r\n      console.log('Request URL:', currentSection ? \r\n        `http://localhost:5000/api/sections/${currentSection._id}` : \r\n        'http://localhost:5000/api/sections'\r\n      );\r\n      \r\n      if (currentSection) {\r\n        // Update existing section\r\n        const response = await fetch(`http://localhost:5000/api/sections/${currentSection._id}`, {\r\n          method: 'PUT',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify(submitData)\r\n        });\r\n\r\n        console.log('Update response status:', response.status);\r\n        console.log('Update response headers:', Object.fromEntries(response.headers.entries()));\r\n\r\n        if (response.ok) {\r\n          const updatedSection = await response.json();\r\n          console.log('Section updated:', updatedSection);\r\n          \r\n          // Refresh data to get updated information\r\n          await fetchData();\r\n          alert('Section updated successfully!');\r\n        } else {\r\n          let errorMessage = 'Unknown error';\r\n          try {\r\n            const errorData = await response.json();\r\n            console.error('Failed to update section:', response.status, errorData);\r\n            \r\n            if (errorData.errors && Array.isArray(errorData.errors)) {\r\n              errorMessage = errorData.errors.map(err => err.message).join(', ');\r\n            } else if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n            } else if (errorData.message) {\r\n              errorMessage = errorData.message;\r\n            }\r\n          } catch (jsonError) {\r\n            console.error('Error parsing response:', jsonError);\r\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n          }\r\n          \r\n          alert(`Failed to update section: ${errorMessage}`);\r\n        }\r\n      } else {\r\n        // Add new section\r\n        const response = await fetch('http://localhost:5000/api/sections', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify(submitData)\r\n        });\r\n\r\n        console.log('Create response status:', response.status);\r\n        console.log('Create response headers:', Object.fromEntries(response.headers.entries()));\r\n\r\n        if (response.ok) {\r\n          const newSection = await response.json();\r\n          console.log('Section created:', newSection);\r\n          \r\n          // Refresh data to get updated information\r\n          await fetchData();\r\n          alert('Section created successfully!');\r\n        } else {\r\n          let errorMessage = 'Unknown error';\r\n          try {\r\n            const errorData = await response.json();\r\n            console.error('Failed to create section:', response.status, errorData);\r\n            \r\n            if (errorData.errors && Array.isArray(errorData.errors)) {\r\n              errorMessage = errorData.errors.map(err => err.message).join(', ');\r\n            } else if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n            } else if (errorData.message) {\r\n              errorMessage = errorData.message;\r\n            }\r\n          } catch (jsonError) {\r\n            console.error('Error parsing response:', jsonError);\r\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n          }\r\n          \r\n          alert(`Failed to create section: ${errorMessage}`);\r\n        }\r\n      }\r\n      \r\n      handleCloseModal();\r\n    } catch (error) {\r\n      console.error('Error submitting section:', error);\r\n      alert(`Error ${currentSection ? 'updating' : 'adding'} section. Please try again.`);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // Handle opening edit modal\r\n  const handleEdit = (section) => {\r\n    console.log('Editing section:', section);\r\n    setCurrentSection(section);\r\n    setFormData({\r\n      name: section.name || '',\r\n      division: section.division?._id || section.division || ''\r\n    });\r\n    setFormErrors({});\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // Handle delete section\r\n  const handleDelete = async (section) => {\r\n    if (window.confirm(`Are you sure you want to delete \"${section.name}\" section? This action cannot be undone.`)) {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        \r\n        if (!token) {\r\n          alert('Authentication token not found. Please log in again.');\r\n          return;\r\n        }\r\n\r\n        const response = await fetch(`http://localhost:5000/api/sections/${section._id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          credentials: 'include'\r\n        });\r\n\r\n        if (response.ok) {\r\n          console.log('Section deleted:', section._id);\r\n          \r\n          // Refresh data to get updated information\r\n          await fetchData();\r\n          alert('Section deleted successfully!');\r\n        } else {\r\n          let errorMessage = 'Unknown error';\r\n          try {\r\n            const errorData = await response.json();\r\n            console.error('Failed to delete section:', response.status, errorData);\r\n            \r\n            if (errorData.errors && Array.isArray(errorData.errors)) {\r\n              errorMessage = errorData.errors.map(err => err.message).join(', ');\r\n            } else if (errorData.error) {\r\n              errorMessage = errorData.error;\r\n            } else if (errorData.message) {\r\n              errorMessage = errorData.message;\r\n            }\r\n          } catch (jsonError) {\r\n            console.error('Error parsing response:', jsonError);\r\n            errorMessage = `HTTP ${response.status}: ${response.statusText}`;\r\n          }\r\n          \r\n          alert(`Failed to delete section: ${errorMessage}`);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error deleting section:', error);\r\n        alert('Error deleting section. Please try again.');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Handle opening add modal\r\n  const handleAdd = () => {\r\n    setCurrentSection(null);\r\n    setFormData({ name: '', division: '' });\r\n    setFormErrors({});\r\n    setShowAddModal(true);\r\n  };\r\n\r\n  // Handle closing modals\r\n  const handleCloseModal = () => {\r\n    setShowAddModal(false);\r\n    setShowEditModal(false);\r\n    setCurrentSection(null);\r\n    setFormData({ name: '', division: '' });\r\n    setFormErrors({});\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"spinner-border\" role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    if (!canView) {\r\n      return (\r\n        <div className=\"section-management\">\r\n          <div className=\"section-header\">\r\n            <h2><i className=\"bi bi-diagram-3\"></i> Section Management</h2>\r\n          </div>\r\n          <div className=\"professional-card\">\r\n            <div className=\"no-data\">\r\n              <p>You do not have permission to view sections. Contact a Super Admin for access.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n  return (\r\n    <div className=\"section-management\">\r\n      {/* Professional Section Header */}\r\n      <div className=\"section-header\">\r\n        <h2><i className=\"bi bi-diagram-3\"></i> Section Management</h2>\r\n        <button \r\n          className=\"btn-professional btn-primary\"\r\n          onClick={canCreate ? handleAdd : undefined}\r\n          disabled={!canCreate}\r\n          title={!canCreate ? 'You do not have permission to add sections' : 'Add Section'}\r\n          style={{ cursor: canCreate ? 'pointer' : 'not-allowed' }}\r\n        >\r\n          <i className=\"bi bi-plus-circle\"></i> Add Section\r\n        </button>\r\n      </div>\r\n\r\n      {/* Professional Sections Table */}\r\n      <div className=\"professional-card\">\r\n        <div className=\"table-responsive\">\r\n          <table className=\"professional-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Section Name</th>\r\n                <th>Division</th>\r\n                <th>Status</th>\r\n                <th>Created Date</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {sections.map(section => (\r\n                <tr key={section._id}>\r\n                  <td><strong>{section.name}</strong></td>\r\n                  <td>\r\n                    <span className=\"role-badge role-admin\">\r\n                      {getDivisionName(section.division)}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <span className={`status-badge ${(section.status === 'active' || section.isActive) ? 'status-active' : 'status-inactive'}`}>\r\n                      {(section.status === 'active' || section.isActive) ? 'Active' : 'Inactive'}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    {section.createdAt ? new Date(section.createdAt).toLocaleDateString() : 'N/A'}\r\n                  </td>\r\n                  <td>\r\n                    <div style={{ display: 'flex', gap: '8px' }}>\r\n                      <button \r\n                        className=\"btn-professional btn-primary\"\r\n                        onClick={canUpdate ? () => handleEdit(section) : undefined}\r\n                        title={!canUpdate ? 'No permission to edit sections' : 'Edit Section'}\r\n                        disabled={!canUpdate}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canUpdate ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-pencil\"></i>\r\n                      </button>\r\n                      <button \r\n                        className=\"btn-professional btn-danger\"\r\n                        onClick={canDelete ? () => handleDelete(section) : undefined}\r\n                        title={!canDelete ? 'No permission to delete sections' : 'Delete Section'}\r\n                        disabled={!canDelete}\r\n                        style={{ padding: '8px 12px', fontSize: '12px', cursor: canDelete ? 'pointer' : 'not-allowed' }}\r\n                      >\r\n                        <i className=\"bi bi-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {sections.length === 0 && (\r\n          <div className=\"no-data\">\r\n            <p>No sections found. Click \"Add Section\" to create the first section.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Add/Edit Section Modal */}\r\n      {(showAddModal || showEditModal) && (\r\n        <div className=\"modal-overlay\" onClick={handleCloseModal}>\r\n          <div className=\"modal-content professional-form\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\" style={{ borderBottom: '2px solid var(--gray-200)', paddingBottom: '20px', marginBottom: '24px' }}>\r\n              <h3 style={{ fontSize: '24px', fontWeight: '700', color: 'var(--gray-900)', display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <i className={`bi ${currentSection ? \"bi-pencil-square\" : \"bi-plus-circle\"}`} style={{ color: 'var(--primary)' }}></i>\r\n                {currentSection ? 'Edit Section' : 'Add New Section'}\r\n              </h3>\r\n              <button \r\n                className=\"modal-close btn-professional btn-danger\"\r\n                onClick={handleCloseModal}\r\n                style={{ padding: '8px 12px', fontSize: '16px' }}\r\n              >\r\n                <i className=\"bi bi-x\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            <form onSubmit={handleSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Section Name *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className={`form-input ${formErrors.name ? 'error' : ''}`}\r\n                  value={formData.name}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"Enter section name\"\r\n                  required\r\n                />\r\n                {formErrors.name && <span className=\"error-text\">{formErrors.name}</span>}\r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Division *</label>\r\n                <select\r\n                  name=\"division\"\r\n                  className={`form-select ${formErrors.division ? 'error' : ''}`}\r\n                  value={formData.division}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select Division</option>\r\n                  {divisions.map(division => (\r\n                    <option key={division._id} value={division._id}>\r\n                      {division.name} ({division.code})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n                {formErrors.division && <span className=\"error-text\">{formErrors.division}</span>}\r\n              </div>\r\n\r\n              <div className=\"modal-footer\" style={{ borderTop: '2px solid var(--gray-200)', paddingTop: '20px', marginTop: '24px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n                <button \r\n                  type=\"button\"\r\n                  className=\"btn-professional btn-secondary\"\r\n                  onClick={handleCloseModal}\r\n                  disabled={submitting}\r\n                  style={{ background: 'var(--gray-500)' }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"btn-professional btn-success\"\r\n                  disabled={submitting || (!canCreate && !canUpdate)}\r\n                  aria-disabled={submitting || (!canCreate && !canUpdate)}\r\n                  title={!canCreate && !canUpdate ? 'You do not have permission to perform this action' : ''}\r\n                >\r\n                  <i className={`bi ${currentSection ? \"bi-check-circle\" : \"bi-plus-circle\"}`}></i>\r\n                  {submitting ? (\r\n                    currentSection ? 'Updating...' : 'Adding...'\r\n                  ) : (\r\n                    currentSection ? 'Update Section' : 'Add Section'\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SectionManagement;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}